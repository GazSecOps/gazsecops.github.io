<!doctype html><html lang=en><head><title>Chaos Engineering as Security Tool: Breaking Things to Make Them Stronger :: Gareth's Engineering Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=" CISO: Our security team is world-class. Firewalls, IDS, EDR, SIEM. We&rsquo;re covered.
SRE: What happens if a switch fails? Or database goes down? Or network partitions?
CISO: That&rsquo;s ops problem. Security is about preventing attacks.
SRE: Security without resilience is useless. If everything breaks under pressure, attacker wins. If you survive chaos, attacker doesn&rsquo;t matter.
&#34;The best security test isn't a penetration test. It's Game Day when everything tries to break at once and you see what holds together.&#34; Traditional security is defensive. Firewalls, EDR, access controls. Prevent attacks, detect intruders, respond to incidents. But there&rsquo;s a problem: you only know your defenses work when someone attacks. And you only find weaknesses when they&rsquo;re exploited.
Chaos engineering is offensive. You break things on purpose. Systematically. Repeatedly. Not to cause problems, but to discover them. To find where your resilience fails before attackers exploit those failures.
"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://gazsecops.github.io/posts/chaos-engineering-security-tool/><link rel=stylesheet href=https://gazsecops.github.io/css/extended.min.c658c723e006469d82f697e19c5338967fad12c57650bdd915bacf9cfbe2cc38.css><link rel=stylesheet href=https://gazsecops.github.io/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://gazsecops.github.io/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://gazsecops.github.io/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://gazsecops.github.io/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://gazsecops.github.io/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://gazsecops.github.io/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://gazsecops.github.io/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css><link rel=stylesheet href=https://gazsecops.github.io/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css><link rel=stylesheet href=https://gazsecops.github.io/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://gazsecops.github.io/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css><link rel=stylesheet href=https://gazsecops.github.io/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css><link rel=stylesheet href=https://gazsecops.github.io/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://gazsecops.github.io/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel="shortcut icon" href=https://gazsecops.github.io/favicon.png><link rel=apple-touch-icon href=https://gazsecops.github.io/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Chaos Engineering as Security Tool: Breaking Things to Make Them Stronger"><meta property="og:description" content=" CISO: Our security team is world-class. Firewalls, IDS, EDR, SIEM. We&rsquo;re covered.
SRE: What happens if a switch fails? Or database goes down? Or network partitions?
CISO: That&rsquo;s ops problem. Security is about preventing attacks.
SRE: Security without resilience is useless. If everything breaks under pressure, attacker wins. If you survive chaos, attacker doesn&rsquo;t matter.
&#34;The best security test isn't a penetration test. It's Game Day when everything tries to break at once and you see what holds together.&#34; Traditional security is defensive. Firewalls, EDR, access controls. Prevent attacks, detect intruders, respond to incidents. But there&rsquo;s a problem: you only know your defenses work when someone attacks. And you only find weaknesses when they&rsquo;re exploited.
Chaos engineering is offensive. You break things on purpose. Systematically. Repeatedly. Not to cause problems, but to discover them. To find where your resilience fails before attackers exploit those failures.
"><meta property="og:url" content="https://gazsecops.github.io/posts/chaos-engineering-security-tool/"><meta property="og:site_name" content="Gareth's Engineering Blog"><meta property="og:image" content="https://gazsecops.github.io/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2025-05-15 10:00:00 +0000 UTC"></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>gareth@blog:~$</div></a></div><div class=header__search><input type=text id=header-search placeholder="Quick search..." style="padding:5px 10px;background:#222;color:#eee;border:1px solid #444;border-radius:3px;font-size:14px;width:200px"></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/topics/>Topics</a></li><li><a href=/posts/>All</a></li><li><a href=/series/>Series</a></li><li><a href=/tags/>Tags</a></li><li><a href=/archive/>Archive</a></li><li><a href=/search/>Search</a></li><li><a href=/about/>About</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/topics/>Topics</a></li><li><a href=/posts/>All</a></li><li><a href=/series/>Series</a></li><li><a href=/tags/>Tags</a></li><li><a href=/archive/>Archive</a></li><li><a href=/search/>Search</a></li><li><a href=/about/>About</a></li></ul></nav></header><script>(function(){const e=document.getElementById("header-search");if(!e)return;e.addEventListener("keydown",function(e){if(e.key==="Enter"){const e=this.value.trim();e&&(window.location.href="/search?q="+encodeURIComponent(e))}}),document.addEventListener("keydown",function(t){t.key==="/"&&!["INPUT","TEXTAREA"].includes(t.target.tagName)&&(t.preventDefault(),e.focus()),t.key==="Escape"&&t.target===e&&e.blur()})})()</script><style>.header__inner{display:flex;align-items:center;gap:20px}.header__search{flex:none}#header-search::placeholder{color:#666;font-style:italic}#header-search:focus{outline:none;border-color:#888}@media(max-width:684px){.header__search{display:none}}</style><div class=content><article class=post><h1 class=post-title><a href=https://gazsecops.github.io/posts/chaos-engineering-security-tool/>Chaos Engineering as Security Tool: Breaking Things to Make Them Stronger</a></h1><div class=post-meta><time class=post-date>2025-05-15</time><span class=post-author>Gareth</span><span class=post-reading-time>12 min read (2543 words)</span></div><span class=post-tags>#<a href=https://gazsecops.github.io/tags/security/>security</a>&nbsp;
#<a href=https://gazsecops.github.io/tags/chaos-engineering/>chaos-engineering</a>&nbsp;
#<a href=https://gazsecops.github.io/tags/resilience/>resilience</a>&nbsp;
#<a href=https://gazsecops.github.io/tags/incident-response/>incident-response</a>&nbsp;</span><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#what-chaos-engineering-actually-is>What Chaos Engineering Actually Is</a></li><li><a href=#real-world-examples>Real-World Examples</a><ul><li><a href=#netflix-game-day>Netflix: Game Day</a></li><li><a href=#shopify-chaos-monkey>Shopify: Chaos Monkey</a></li><li><a href=#airbnb-gremlin>Airbnb: Gremlin</a></li></ul></li><li><a href=#chaos-engineering-for-security>Chaos Engineering for Security</a><ul><li><a href=#1-resilience-testing>1. Resilience Testing</a></li><li><a href=#2-attack-surface-discovery>2. Attack Surface Discovery</a></li><li><a href=#3-incident-response-testing>3. Incident Response Testing</a></li><li><a href=#4-defense-testing-in-depth>4. Defense Testing in Depth</a></li></ul></li><li><a href=#implementing-chaos-engineering>Implementing Chaos Engineering</a><ul><li><a href=#tool-1-chaos-monkey>Tool 1: Chaos Monkey</a></li><li><a href=#tool-2-gremlin-chaos-as-a-service>Tool 2: Gremlin (Chaos-as-a-Service)</a></li><li><a href=#tool-3-kubernetes-chaos>Tool 3: Kubernetes Chaos</a></li></ul></li><li><a href=#chaos-engineering-scenarios>Chaos Engineering Scenarios</a><ul><li><a href=#scenario-1-zero-trust-network-failure>Scenario 1: Zero Trust Network Failure</a></li><li><a href=#scenario-2-database-connection-pool-exhaustion>Scenario 2: Database Connection Pool Exhaustion</a></li><li><a href=#scenario-3-cascading-failure-test>Scenario 3: Cascading Failure Test</a></li></ul></li><li><a href=#building-chaos-culture>Building Chaos Culture</a><ul><li><a href=#leadership-buy-in>Leadership Buy-In</a></li><li><a href=#safety-first>Safety First</a></li><li><a href=#measurement>Measurement</a></li></ul></li><li><a href=#common-mistakes>Common Mistakes</a><ul><li><a href=#mistake-1-chaos-without-purpose>Mistake 1: Chaos Without Purpose</a></li><li><a href=#mistake-2-too-much-too-soon>Mistake 2: Too Much, Too Soon</a></li><li><a href=#mistake-3-no-rollback-plan>Mistake 3: No Rollback Plan</a></li><li><a href=#mistake-4-ignoring-security-impact>Mistake 4: Ignoring Security Impact</a></li></ul></li><li><a href=#getting-started>Getting Started</a><ul><li><a href=#phase-1-learn-week-1-2>Phase 1: Learn (Week 1-2)</a></li><li><a href=#phase-2-sandbox-week-3-4>Phase 2: Sandbox (Week 3-4)</a></li><li><a href=#phase-3-production-cautious-week-5-8>Phase 3: Production Cautious (Week 5-8)</a></li><li><a href=#phase-4-embedded-week-9>Phase 4: Embedded (Week 9+)</a></li></ul></li><li><a href=#the-honest-truth>The Honest Truth</a></li></ul></nav></div><div class=post-content><div><div class=dialogue><p><span class="speaker speaker-ciso">CISO:</span> Our security team is world-class. Firewalls, IDS, EDR, SIEM. We&rsquo;re covered.</p><p><span class="speaker speaker-sre">SRE:</span> What happens if a switch fails? Or database goes down? Or network partitions?</p><p><span class="speaker speaker-ciso">CISO:</span> That&rsquo;s ops problem. Security is about preventing attacks.</p><p><span class="speaker speaker-sre">SRE:</span> Security without resilience is useless. If everything breaks under pressure, attacker wins. If you survive chaos, attacker doesn&rsquo;t matter.</p></div><aside class=pullquote>"The best security test isn't a penetration test. It's Game Day when everything tries to break at once and you see what holds together."</aside><p>Traditional security is defensive. Firewalls, EDR, access controls. Prevent attacks, detect intruders, respond to incidents. But there&rsquo;s a problem: you only know your defenses work when someone attacks. And you only find weaknesses when they&rsquo;re exploited.</p><p>Chaos engineering is offensive. You break things on purpose. Systematically. Repeatedly. Not to cause problems, but to discover them. To find where your resilience fails before attackers exploit those failures.</p><h2 id=what-chaos-engineering-actually-is>What Chaos Engineering Actually Is<a href=#what-chaos-engineering-actually-is class=hanchor arialabel=Anchor>#</a></h2><p>Chaos engineering is controlled failure injection. You deliberately break things to see what happens.</p><p><strong>The principles:</strong></p><ol><li><strong>Blast radius is small</strong> - Start with isolated failures, expand gradually</li><li><strong>Minimal surprise</strong> - Learn what breaks before production, not during</li><li><strong>State isolation</strong> - Don&rsquo;t cascade failures across systems</li><li><strong>Roll back fast</strong> - If chaos goes wrong, revert immediately</li><li><strong>Culture of resilience</strong> - Everyone expects failures, not just uptime</li></ol><p><strong>From security perspective:</strong></p><p>Traditional security: &ldquo;We think attacker might try this path, so we block it.&rdquo;
Chaos engineering: &ldquo;We&rsquo;re going to break this path and see if the system survives.&rdquo;</p><p>Difference: One is theory about attacks. The other is empirical testing of reality.</p><h2 id=real-world-examples>Real-World Examples<a href=#real-world-examples class=hanchor arialabel=Anchor>#</a></h2><h3 id=netflix-game-day>Netflix: Game Day<a href=#netflix-game-day class=hanchor arialabel=Anchor>#</a></h3><p>Once per year, Netflix shuts down entire Chaos Monkey for a full day. Random failures everywhere.</p><p><strong>What they inject:</strong></p><ul><li>Random AZ failures in AWS</li><li>Latency spikes in database connections</li><li>Random dependency failures</li><li>Random service instance terminations</li></ul><p><strong>Result:</strong></p><ul><li>Engineers frantically fix issues that surface</li><li>System hardens every year</li><li>Chaos becomes part of culture</li><li>Game Day becomes easier each time</li></ul><p><strong>Security lesson:</strong>
Attackers don&rsquo;t attack one thing. They attack everything. Game Day tests what happens when multiple vectors hit simultaneously. You find single points of failure that cascade.</p><h3 id=shopify-chaos-monkey>Shopify: Chaos Monkey<a href=#shopify-chaos-monkey class=hanchor arialabel=Anchor>#</a></h3><p>Shopify runs Chaos Monkey continuously. Every day, random failures across their platform.</p><p><strong>What they test:</strong></p><ul><li>Random pod terminations in Kubernetes</li><li>Random network latency</li><li>Random database query timeouts</li><li>Random third-party API failures</li></ul><p><strong>Result:</strong></p><ul><li>Shopify hardened to random failures</li><li>Built resilience into platform architecture</li><li>Learned that some &ldquo;important&rdquo; systems weren&rsquo;t actually critical</li><li>Identified single points of failure</li></ul><p><strong>Security lesson:</strong>
You don&rsquo;t know what&rsquo;s critical until it fails. Shopify discovered that some systems they thought were important weren&rsquo;t. Resources moved to actually critical things. Attackers waste time on unimportant targets when you&rsquo;ve hardened important ones.</p><h3 id=airbnb-gremlin>Airbnb: Gremlin<a href=#airbnb-gremlin class=hanchor arialabel=Anchor>#</a></h3><p>Airbnb uses Gremlin (chaos-as-a-service) to inject failures across their infrastructure.</p><p><strong>What they inject:</strong></p><ul><li>Random CPU spikes on hosts</li><li>Random network packet loss</li><li>Random memory exhaustion</li><li>Random DNS failures</li></ul><p><strong>Result:</strong></p><ul><li>Real-time resilience testing</li><li>Found weaknesses in monitoring (alerts don&rsquo;t fire, incidents missed)</li><li>Improved incident response (faster reaction to real issues)</li><li>Built confidence in system resilience</li></ul><p><strong>Security lesson:</strong>
Monitoring is your eyes. Chaos engineering tests if they&rsquo;re actually looking. If failure happens and you don&rsquo;t notice, attacker can exploit quietly. Chaos engineering finds blind spots in visibility.</p><h2 id=chaos-engineering-for-security>Chaos Engineering for Security<a href=#chaos-engineering-for-security class=hanchor arialabel=Anchor>#</a></h2><h3 id=1-resilience-testing>1. Resilience Testing<a href=#1-resilience-testing class=hanchor arialabel=Anchor>#</a></h3><p>Test if security controls survive failure.</p><p><strong>Example scenario:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>Normal state:
</span></span><span style=display:flex><span>User → MFA → Auth service → Database → Access
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Chaos: Auth service fails
</span></span><span style=display:flex><span>User → MFA → Auth service [DOWN] → ? → Access
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>What happens?
</span></span><span style=display:flex><span>- Do users get access anyway? (bad - fallback bypasses security)
</span></span><span style=display:flex><span>- Do they get useful error messages? (bad - information leakage)
</span></span><span style=display:flex><span>- Does system recover cleanly? (good - resilient)
</span></span></code></pre></div><p>Attackers exploit fallbacks. If auth service fails and system gracefully degrades to &ldquo;no auth required for local access,&rdquo; attackers find and exploit. Chaos engineering reveals these security trade-offs.</p><h3 id=2-attack-surface-discovery>2. Attack Surface Discovery<a href=#2-attack-surface-discovery class=hanchor arialabel=Anchor>#</a></h3><p>Chaos reveals hidden attack vectors.</p><p><strong>Example:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>Inject network partition between API and database
</span></span><span style=display:flex><span>Observe: API caches credentials and continues working
</span></span><span style=display:flex><span>Security issue: Credentials cached in memory after auth revocation
</span></span></code></pre></div><p>Traditional security testing might miss this. Chaos engineering (random partitions) reveals it naturally.</p><h3 id=3-incident-response-testing>3. Incident Response Testing<a href=#3-incident-response-testing class=hanchor arialabel=Anchor>#</a></h3><p>Chaos is practice for real incidents.</p><p><strong>Example:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>Inject random service failure
</span></span><span style=display:flex><span>Measure:
</span></span><span style=display:flex><span>- Time to detection (alerts fire?)
</span></span><span style=display:flex><span>- Time to identification (team knows what&#39;s wrong?)
</span></span><span style=display:flex><span>- Time to containment (can they isolate problem?)
</span></span><span style=display:flex><span>- Time to resolution (how fast can they fix?)
</span></span></code></pre></div><p>This tests your incident response process under realistic pressure. Not theoretical tabletop exercises - actual failing systems.</p><h3 id=4-defense-testing-in-depth>4. Defense Testing in Depth<a href=#4-defense-testing-in-depth class=hanchor arialabel=Anchor>#</a></h3><p>Test if security controls work under stress.</p><p><strong>Example:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>Normal: Rate limiter blocks 100 req/sec
</span></span><span style=display:flex><span>Chaos: Inject 1000 req/sec traffic spike
</span></span><span style=display:flex><span>Observation:
</span></span><span style=display:flex><span>- Rate limiter holds? (good)
</span></span><span style=display:flex><span>- System degrades gracefully? (good)
</span></span><span style=display:flex><span>- Rate limiter crashes? (bad - DoS vulnerability)
</span></span><span style=display:flex><span>- Backend bypassed? (bad - rate limiter is cosmetic)
</span></span></code></pre></div><p>Attackers flood systems. Chaos engineering tests if your defenses hold under realistic attack patterns.</p><h2 id=implementing-chaos-engineering>Implementing Chaos Engineering<a href=#implementing-chaos-engineering class=hanchor arialabel=Anchor>#</a></h2><h3 id=tool-1-chaos-monkey>Tool 1: Chaos Monkey<a href=#tool-1-chaos-monkey class=hanchor arialabel=Anchor>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Basic Chaos Monkey implementation (Kubernetes)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># This is intentionally boring: pick a target by label and kill one pod.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># If your system falls over from that, you don&#39;t need a chaos platform.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Requirements:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># - kubectl configured for the cluster</span>
</span></span><span style=display:flex><span><span style=color:#75715e># - RBAC that only allows what you intend (namespace-scoped)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> random
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> subprocess
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ChaosMonkey</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self, namespace, services, dry_run<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>namespace <span style=color:#f92672>=</span> namespace
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>services <span style=color:#f92672>=</span> services
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>dry_run <span style=color:#f92672>=</span> dry_run
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>is_running <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>start</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>is_running <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> self<span style=color:#f92672>.</span>is_running:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>attack_random_service()
</span></span><span style=display:flex><span>            time<span style=color:#f92672>.</span>sleep(random<span style=color:#f92672>.</span>randint(<span style=color:#ae81ff>60</span>, <span style=color:#ae81ff>600</span>))  <span style=color:#75715e># 1-10 minutes</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>stop</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>is_running <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attack_random_service</span>(self):
</span></span><span style=display:flex><span>        service <span style=color:#f92672>=</span> random<span style=color:#f92672>.</span>choice(self<span style=color:#f92672>.</span>services)
</span></span><span style=display:flex><span>        attack_type <span style=color:#f92672>=</span> random<span style=color:#f92672>.</span>choice([<span style=color:#e6db74>&#39;terminate&#39;</span>, <span style=color:#e6db74>&#39;latency&#39;</span>, <span style=color:#e6db74>&#39;packet_loss&#39;</span>])
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> attack_type <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;terminate&#39;</span>:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>terminate_service(service)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> attack_type <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;latency&#39;</span>:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>inject_latency(service)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> attack_type <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;packet_loss&#39;</span>:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>inject_packet_loss(service)
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;[ChaosMonkey] </span><span style=color:#e6db74>{</span>attack_type<span style=color:#e6db74>}</span><span style=color:#e6db74> on </span><span style=color:#e6db74>{</span>service<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>terminate_service</span>(self, service):
</span></span><span style=display:flex><span>        <span style=color:#75715e># Kill one pod matching label app=&lt;service&gt;</span>
</span></span><span style=display:flex><span>        pod <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>_pick_pod(label_selector<span style=color:#f92672>=</span><span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;app=</span><span style=color:#e6db74>{</span>service<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> pod:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;[ChaosMonkey] no pod found for app=</span><span style=color:#e6db74>{</span>service<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        cmd <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;kubectl&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;delete&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;pod&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;-n&#34;</span>,
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>namespace,
</span></span><span style=display:flex><span>            pod,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;--wait=false&#34;</span>,
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>dry_run:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;[ChaosMonkey] DRY RUN: </span><span style=color:#e6db74>{</span><span style=color:#e6db74>&#39; &#39;</span><span style=color:#f92672>.</span>join(cmd)<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        subprocess<span style=color:#f92672>.</span>run(cmd, check<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>inject_latency</span>(self, service):
</span></span><span style=display:flex><span>        <span style=color:#75715e># Prefer a Kubernetes-native chaos tool for network faults.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># This example assumes Chaos Mesh is installed.</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_apply_chaos_mesh_network(service<span style=color:#f92672>=</span>service, mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;delay&#34;</span>, latency_ms<span style=color:#f92672>=</span><span style=color:#ae81ff>250</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>inject_packet_loss</span>(self, service):
</span></span><span style=display:flex><span>        <span style=color:#75715e># This example assumes Chaos Mesh is installed.</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_apply_chaos_mesh_network(service<span style=color:#f92672>=</span>service, mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;loss&#34;</span>, loss_percent<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>_pick_pod</span>(self, label_selector):
</span></span><span style=display:flex><span>        cmd <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;kubectl&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;get&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;pods&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;-n&#34;</span>,
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>namespace,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;-l&#34;</span>,
</span></span><span style=display:flex><span>            label_selector,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;-o&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;json&#34;</span>,
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>        out <span style=color:#f92672>=</span> subprocess<span style=color:#f92672>.</span>check_output(cmd)
</span></span><span style=display:flex><span>        data <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>loads(out<span style=color:#f92672>.</span>decode(<span style=color:#e6db74>&#34;utf-8&#34;</span>))
</span></span><span style=display:flex><span>        items <span style=color:#f92672>=</span> [i <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> data<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;items&#34;</span>, []) <span style=color:#66d9ef>if</span> i<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;status&#34;</span>, {})<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;phase&#34;</span>) <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Running&#34;</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> items:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> random<span style=color:#f92672>.</span>choice(items)[<span style=color:#e6db74>&#34;metadata&#34;</span>][<span style=color:#e6db74>&#34;name&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>_apply_chaos_mesh_network</span>(self, service, mode, latency_ms<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>, loss_percent<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>):
</span></span><span style=display:flex><span>        name <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>service<span style=color:#e6db74>}</span><span style=color:#e6db74>-</span><span style=color:#e6db74>{</span>mode<span style=color:#e6db74>}</span><span style=color:#e6db74>-</span><span style=color:#e6db74>{</span>int(time<span style=color:#f92672>.</span>time())<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> mode <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;delay&#34;</span>:
</span></span><span style=display:flex><span>            action <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;delay&#34;</span>
</span></span><span style=display:flex><span>            tc <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;latency: &#39;</span><span style=color:#e6db74>{</span>latency_ms<span style=color:#e6db74>}</span><span style=color:#e6db74>ms&#39;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> mode <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;loss&#34;</span>:
</span></span><span style=display:flex><span>            action <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;loss&#34;</span>
</span></span><span style=display:flex><span>            tc <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;loss: &#39;</span><span style=color:#e6db74>{</span>loss_percent<span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>ValueError</span>(<span style=color:#e6db74>&#34;unknown mode&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        manifest <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&#34;&#34;apiVersion: chaos-mesh.org/v1alpha1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>kind: NetworkChaos
</span></span></span><span style=display:flex><span><span style=color:#e6db74>metadata:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: </span><span style=color:#e6db74>{</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  namespace: </span><span style=color:#e6db74>{</span>self<span style=color:#f92672>.</span>namespace<span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>spec:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  action: </span><span style=color:#e6db74>{</span>action<span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  mode: one
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  selector:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    labelSelectors:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      app: </span><span style=color:#e6db74>{</span>service<span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  duration: &#39;60s&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  tc:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    </span><span style=color:#e6db74>{</span>tc<span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        cmd <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;kubectl&#34;</span>, <span style=color:#e6db74>&#34;apply&#34;</span>, <span style=color:#e6db74>&#34;-f&#34;</span>, <span style=color:#e6db74>&#34;-&#34;</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>dry_run:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;[ChaosMonkey] DRY RUN: kubectl apply -f -&#34;</span>)
</span></span><span style=display:flex><span>            print(manifest)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        subprocess<span style=color:#f92672>.</span>run(cmd, input<span style=color:#f92672>=</span>manifest<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#34;utf-8&#34;</span>), check<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Define services to attack (assumes app=&lt;name&gt; labels)</span>
</span></span><span style=display:flex><span>services <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;auth-service&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;database-primary&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;api-gateway&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;payment-service&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;user-service&#39;</span>
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Start Chaos Monkey</span>
</span></span><span style=display:flex><span>chaos <span style=color:#f92672>=</span> ChaosMonkey(namespace<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;production&#34;</span>, services<span style=color:#f92672>=</span>services, dry_run<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>chaos<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># In production, this runs in controlled environment</span>
</span></span><span style=display:flex><span><span style=color:#75715e># with proper rollback and monitoring</span>
</span></span></code></pre></div><p><strong>Key features:</strong></p><ul><li>Random service selection</li><li>Random attack type</li><li>Random timing (simulates unpredictable attackers)</li><li>Can start/stop cleanly</li></ul><h3 id=tool-2-gremlin-chaos-as-a-service>Tool 2: Gremlin (Chaos-as-a-Service)<a href=#tool-2-gremlin-chaos-as-a-service class=hanchor arialabel=Anchor>#</a></h3><p>Gremlin provides ready-to-use chaos attacks:</p><p><strong>Types:</strong></p><ul><li><strong>Resource attacks:</strong> CPU, memory, disk, file descriptor exhaustion</li><li><strong>Network attacks:</strong> Latency, packet loss, DNS failure</li><li><strong>State attacks:</strong> Process kill, service restart, shutdown</li><li><strong>Infrastructure attacks:</strong> Zone failure, region failure</li></ul><p><strong>Example using Gremlin:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Install Gremlin CLI</span>
</span></span><span style=display:flex><span>brew install gremlin  <span style=color:#75715e># macOS</span>
</span></span><span style=display:flex><span><span style=color:#75715e># or download from https://www.gremlin.com/get</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Create experiment</span>
</span></span><span style=display:flex><span>gremlin attack cpu <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --app my-application <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --container auth-service <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --cpu-percent <span style=color:#ae81ff>80</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --length 60s
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Result: auth-service CPU spikes to 80% for 60 seconds</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Watch how your system responds</span>
</span></span></code></pre></div><p><strong>Why use service vs build:</strong></p><ul><li>Faster to implement (no tooling development)</li><li>Better attack diversity (they&rsquo;ve built many)</li><li>Integration with monitoring (Prometheus, Datadog, etc.)</li><li>Professional support</li></ul><h3 id=tool-3-kubernetes-chaos>Tool 3: Kubernetes Chaos<a href=#tool-3-kubernetes-chaos class=hanchor arialabel=Anchor>#</a></h3><p>Kubernetes-native chaos testing with Chaos Mesh or LitmusChaos.</p><p><strong>Example with Chaos Mesh:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>chaos-mesh.org/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>PodChaos</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>auth-service-chaos</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>production</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>matchLabels</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>app</span>: <span style=color:#ae81ff>auth-service</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>mode</span>: <span style=color:#ae81ff>one</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>action</span>: <span style=color:#ae81ff>pod-kill</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scheduler</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>cron</span>: <span style=color:#e6db74>&#34;@every 5m&#34;</span>
</span></span></code></pre></div><p><strong>What this does:</strong></p><ul><li>Every 5 minutes, kill one auth-service pod</li><li>Kubernetes automatically restarts it</li><li>System must handle graceful restart</li><li>Security question: Does auth service restart bypass any security controls?</li></ul><h2 id=chaos-engineering-scenarios>Chaos Engineering Scenarios<a href=#chaos-engineering-scenarios class=hanchor arialabel=Anchor>#</a></h2><h3 id=scenario-1-zero-trust-network-failure>Scenario 1: Zero Trust Network Failure<a href=#scenario-1-zero-trust-network-failure class=hanchor arialabel=Anchor>#</a></h3><p>Inject network partition between microservices.</p><p>Kubernetes example: deny traffic from <code>user-service</code> to <code>auth-service</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>networking.k8s.io/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>NetworkPolicy</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>deny-user-to-auth</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>production</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>podSelector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>matchLabels</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>app</span>: <span style=color:#ae81ff>auth-service</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>policyTypes</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>Ingress</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ingress</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>from</span>:
</span></span><span style=display:flex><span>        - <span style=color:#f92672>podSelector</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>matchLabels</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>app</span>: <span style=color:#ae81ff>auth-service</span>
</span></span></code></pre></div><p>Apply it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl apply -f deny-user-to-auth.yaml
</span></span></code></pre></div><p>Observation checklist:</p><ul><li>Can user-service still function without auth? (bad)</li><li>Are sessions cached and still valid after revocation? (bad)</li><li>Does the system fail closed or fail open? (open is bad)</li><li>What error messages do users see? (don&rsquo;t leak internals)</li></ul><p><strong>Security lesson:</strong>
Network segmentation is control, not just protection. Attackers can partition networks. You need to test what happens when they do.</p><h3 id=scenario-2-database-connection-pool-exhaustion>Scenario 2: Database Connection Pool Exhaustion<a href=#scenario-2-database-connection-pool-exhaustion class=hanchor arialabel=Anchor>#</a></h3><p>Simulate connection flood (DoS-like, but from chaos perspective).</p><p>If you use Postgres, <code>pgbench</code> is a decent blunt instrument.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># From a pod that can reach the DB</span>
</span></span><span style=display:flex><span>kubectl run -n production -it --rm pgbench --image<span style=color:#f92672>=</span>postgres:16 -- bash
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pgbench -h db.internal -U app_user -c <span style=color:#ae81ff>200</span> -T <span style=color:#ae81ff>60</span> -P <span style=color:#ae81ff>5</span> payments
</span></span></code></pre></div><p>If you&rsquo;re on MySQL/MariaDB, <code>mysqlslap</code> does the same job:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>mysqlslap --host<span style=color:#f92672>=</span>db.internal --user<span style=color:#f92672>=</span>app_user --password <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --concurrency<span style=color:#f92672>=</span><span style=color:#ae81ff>200</span> --iterations<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> --number-of-queries<span style=color:#f92672>=</span><span style=color:#ae81ff>20000</span>
</span></span></code></pre></div><p>Observation checklist:</p><ul><li>Does the application handle exhaustion gracefully (timeouts, backoff)?</li><li>Does it crash and restart-loop?</li><li>Do you melt the database for everyone else?</li><li>Do error messages leak schema/usernames/hostnames?</li></ul><p><strong>Security lesson:</strong>
Connection pools are configuration, not just performance. Wrong settings create security vulnerabilities.</p><h3 id=scenario-3-cascading-failure-test>Scenario 3: Cascading Failure Test<a href=#scenario-3-cascading-failure-test class=hanchor arialabel=Anchor>#</a></h3><p>Trigger small failure, watch cascade.</p><p>Kubernetes example: kill one pod in each tier, 60 seconds apart.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl delete pod -n production -l app<span style=color:#f92672>=</span>dependency-a --wait<span style=color:#f92672>=</span>false
</span></span><span style=display:flex><span>sleep <span style=color:#ae81ff>60</span>
</span></span><span style=display:flex><span>kubectl delete pod -n production -l app<span style=color:#f92672>=</span>service-b --wait<span style=color:#f92672>=</span>false
</span></span><span style=display:flex><span>sleep <span style=color:#ae81ff>60</span>
</span></span><span style=display:flex><span>kubectl delete pod -n production -l app<span style=color:#f92672>=</span>service-c --wait<span style=color:#f92672>=</span>false
</span></span></code></pre></div><p>Observation:</p><ul><li>Does a single failure cascade across the platform?</li><li>Where does it stop (blast radius)?</li><li>Can the system recover without manual intervention?</li><li>What security controls get bypassed when dependencies are down?</li></ul><p><strong>Security lesson:</strong>
Attackers trigger cascades. Single vulnerability can compromise entire platform. Chaos engineering finds these cascade paths.</p><h2 id=building-chaos-culture>Building Chaos Culture<a href=#building-chaos-culture class=hanchor arialabel=Anchor>#</a></h2><h3 id=leadership-buy-in>Leadership Buy-In<a href=#leadership-buy-in class=hanchor arialabel=Anchor>#</a></h3><p>Leadership must support chaos engineering. Without it:</p><ul><li>Engineers won&rsquo;t break production (fear of blame)</li><li>Learning from failures won&rsquo;t happen (blame culture)</li><li>Resilience won&rsquo;t improve (no incentive to invest)</li></ul><p><strong>Executive message:</strong>
&ldquo;We&rsquo;re going to break things on purpose. Not to cause problems, but to find them. Every failure is a learning opportunity, not a mistake.&rdquo;</p><h3 id=safety-first>Safety First<a href=#safety-first class=hanchor arialabel=Anchor>#</a></h3><p>Chaos engineering requires guardrails:</p><p><strong>Pre-chaos checklist:</strong></p><ul><li>Is this blast radius small enough?</li><li>Can we roll back quickly?</li><li>Are stakeholders informed?</li><li>Do we have rollback plan?</li></ul><p><strong>During chaos:</strong></p><ul><li>Monitor everything</li><li>Have rollback ready</li><li>Don&rsquo;t escalate to critical systems without approval</li><li>Stop if unexpected problems occur</li></ul><p><strong>Post-chaos:</strong></p><ul><li>Document everything</li><li>Share learnings</li><li>Improve system based on results</li><li>Update runbooks</li></ul><h3 id=measurement>Measurement<a href=#measurement class=hanchor arialabel=Anchor>#</a></h3><p>If you don&rsquo;t measure, you don&rsquo;t improve:</p><p><strong>Metrics to track:</strong></p><ul><li>MTTR (Mean Time To Resolve incidents)</li><li>MTBF (Mean Time Between Failures)</li><li>System availability during chaos</li><li>Alert response time</li><li>Rollback success rate</li><li>Blameless postmortem completion rate</li></ul><p><strong>Example dashboard:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>Chaos Engineering Metrics
</span></span><span style=display:flex><span>========================
</span></span><span style=display:flex><span>MTTR (chaos incidents): 12 minutes
</span></span><span style=display:flex><span>MTBF (production): 45 days
</span></span><span style=display:flex><span>Availability during chaos: 99.9%
</span></span><span style=display:flex><span>Alert response time: 3 minutes
</span></span><span style=display:flex><span>Rollback success rate: 95%
</span></span><span style=display:flex><span>Postmortem completion: 100%
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Recent Chaos Runs:
</span></span><span style=display:flex><span>- 2025-05-12: Database connection pool exhaustion
</span></span><span style=display:flex><span>  Result: System degraded gracefully, no outage
</span></span><span style=display:flex><span>  Action: Adjusted pool settings
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>- 2025-05-10: Auth service latency injection
</span></span><span style=display:flex><span>  Result: Timeouts increased, users experienced delays
</span></span><span style=display:flex><span>  Action: Optimized database queries
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>- 2025-05-08: Network partition between services
</span></span><span style=display:flex><span>  Result: Cascading failure across platform
</span></span><span style=display:flex><span>  Action: Implemented circuit breakers
</span></span></code></pre></div><h2 id=common-mistakes>Common Mistakes<a href=#common-mistakes class=hanchor arialabel=Anchor>#</a></h2><h3 id=mistake-1-chaos-without-purpose>Mistake 1: Chaos Without Purpose<a href=#mistake-1-chaos-without-purpose class=hanchor arialabel=Anchor>#</a></h3><p>Breaking things randomly without learning.</p><p><strong>Problem:</strong></p><ul><li>Engineers get desensitized to failures</li><li>No focused improvement</li><li>Chaos becomes noise, not signal</li></ul><p><strong>Better:</strong></p><ul><li>Start with hypothesis: &ldquo;We suspect X might be weak&rdquo;</li><li>Design chaos to test that hypothesis</li><li>Measure, learn, improve</li></ul><h3 id=mistake-2-too-much-too-soon>Mistake 2: Too Much, Too Soon<a href=#mistake-2-too-much-too-soon class=hanchor arialabel=Anchor>#</a></h3><p>Starting with massive chaos before readiness.</p><p><strong>Problem:</strong></p><ul><li>Failures cascade beyond expectation</li><li>Recovery takes hours/days</li><li>Business impact too high</li><li>Chaos engineering loses support</li></ul><p><strong>Better:</strong></p><ul><li>Start small (single service, isolated failure)</li><li>Gradually increase complexity</li><li>Build confidence and tooling first</li><li>Measure blast radius before expanding</li></ul><h3 id=mistake-3-no-rollback-plan>Mistake 3: No Rollback Plan<a href=#mistake-3-no-rollback-plan class=hanchor arialabel=Anchor>#</a></h3><p>Chaos goes wrong, no way back.</p><p><strong>Problem:</strong></p><ul><li>Small failure becomes major outage</li><li>Recovery takes manual intervention</li><li>Business impact high</li><li>Chaos engineering blamed for outage</li></ul><p><strong>Better:</strong></p><ul><li>Always have rollback ready before chaos</li><li>Test rollback regularly (not just during chaos)</li><li>Know exactly how to revert</li><li>Have rollback automation</li></ul><h3 id=mistake-4-ignoring-security-impact>Mistake 4: Ignoring Security Impact<a href=#mistake-4-ignoring-security-impact class=hanchor arialabel=Anchor>#</a></h3><p>Focusing only on availability, not security.</p><p><strong>Problem:</strong></p><ul><li>Chaos reveals security vulnerabilities</li><li>Teams ignore them (that&rsquo;s security&rsquo;s job)</li><li>Attackers exploit later</li><li>Chaos engineering opportunity wasted</li></ul><p><strong>Better:</strong></p><ul><li>Include security in chaos hypotheses</li><li>Test security controls under stress</li><li>Document security findings</li><li>Involve security team in chaos planning</li></ul><h2 id=getting-started>Getting Started<a href=#getting-started class=hanchor arialabel=Anchor>#</a></h2><h3 id=phase-1-learn-week-1-2>Phase 1: Learn (Week 1-2)<a href=#phase-1-learn-week-1-2 class=hanchor arialabel=Anchor>#</a></h3><ol><li><p><strong>Read about it</strong></p><ul><li>Netflix&rsquo;s Chaos Monkey documentation</li><li>Gremlin&rsquo;s blog and guides</li><li>Shopify&rsquo;s chaos engineering talks</li></ul></li><li><p><strong>Run toy experiments</strong></p><ul><li>Local dev environment</li><li>Simple failures (kill process, add latency)</li><li>Learn what tools can do</li></ul></li><li><p><strong>Build buy-in</strong></p><ul><li>Present to team with examples</li><li>Explain benefits (resilience, not chaos)</li><li>Address fears (we&rsquo;ll be careful, we have rollback)</li></ul></li></ol><h3 id=phase-2-sandbox-week-3-4>Phase 2: Sandbox (Week 3-4)<a href=#phase-2-sandbox-week-3-4 class=hanchor arialabel=Anchor>#</a></h3><ol><li><p><strong>Choose staging environment</strong></p><ul><li>Not production, but realistic</li><li>Has monitoring and alerting</li><li>Can be rebuilt from scratch</li></ul></li><li><p><strong>Implement chaos tooling</strong></p><ul><li>Chaos Monkey or Gremlin</li><li>Simple experiments initially</li><li>Document everything</li></ul></li><li><p><strong>Run first experiments</strong></p><ul><li>Small blast radius</li><li>Hypothesis-driven (test specific thing)</li><li>Measure results</li><li>Share learnings</li></ul></li></ol><h3 id=phase-3-production-cautious-week-5-8>Phase 3: Production Cautious (Week 5-8)<a href=#phase-3-production-cautious-week-5-8 class=hanchor arialabel=Anchor>#</a></h3><ol><li><p><strong>Get explicit approval</strong></p><ul><li>Leadership understands what&rsquo;s happening</li><li>Business impact understood</li><li>Rollback plan approved</li></ul></li><li><p><strong>Start with low-risk experiments</strong></p><ul><li>Read-only services</li><li>Non-critical functionality</li><li>Off-peak hours initially</li></ul></li><li><p><strong>Expand gradually</strong></p><ul><li>Increase complexity as confidence grows</li><li>Move to more critical systems</li><li>Increase blast radius</li></ul></li><li><p><strong>Continuous learning</strong></p><ul><li>Regular postmortems</li><li>Improve system based on findings</li><li>Share learnings across teams</li></ul></li></ol><h3 id=phase-4-embedded-week-9>Phase 4: Embedded (Week 9+)<a href=#phase-4-embedded-week-9 class=hanchor arialabel=Anchor>#</a></h3><ol><li><p><strong>Make chaos part of development</strong></p><ul><li>Include chaos tests in CI/CD</li><li>Test resilience with every deployment</li><li>Make resilience a first-class concern</li></ul></li><li><p><strong>Automate chaos</strong></p><ul><li>Scheduled experiments</li><li>Automated rollback if things go wrong</li><li>Integration with monitoring</li></ul></li><li><p><strong>Culture of resilience</strong></p><ul><li>Engineers expect failures</li><li>Blameless postmortems</li><li>Continuous improvement</li><li>Chaos becomes normal, not exceptional</li></ul></li></ol><h2 id=the-honest-truth>The Honest Truth<a href=#the-honest-truth class=hanchor arialabel=Anchor>#</a></h2><p><strong>Chaos engineering isn&rsquo;t about being reckless.</strong> It&rsquo;s about being deliberate.</p><p><strong>You&rsquo;re going to have failures either way.</strong></p><ul><li>Without chaos: Random failures, unexpected timing, no preparation, panic response</li><li>With chaos: Controlled failures, expected timing, preparation, practiced response</li></ul><p><strong>Chaos engineering trades predictable practice for unpredictable reality.</strong></p><p><strong>From security perspective:</strong></p><ul><li>Traditional security assumes defenses work</li><li>Chaos engineering proves they actually work</li><li>Attackers don&rsquo;t announce themselves</li><li>But chaos engineering announces failure, shows you how you respond</li></ul><p><strong>Chaos engineering turns security from theory to practice.</strong></p><p>Instead of saying &ldquo;our rate limiter should stop DoS,&rdquo; chaos engineering floods the system and you watch.</p><p>Instead of saying &ldquo;our MFA should block unauthorized access,&rdquo; chaos engineering disables auth service and you see if fallbacks are secure.</p><p>Instead of saying &ldquo;our monitoring detects attacks,&rdquo; chaos engineering breaks things and you see if alerts fire.</p><p>Chaos engineering is stress-testing your security controls. Finding where they fail before attackers do.</p><hr><p><em>Lessons from Netflix Game Day, Shopify Chaos Monkey, Airbnb&rsquo;s resilience testing, and implementing chaos engineering across platforms ranging from startups to enterprise-scale infrastructure. Chaos isn&rsquo;t the point. Resilience is. Breaking things just gets you there faster.</em></p></div></div><div class=related-posts style="margin-top:3rem;padding-top:2rem;border-top:1px solid #333"><h3>Related Posts</h3><ul style=list-style:none;padding:0><li style=margin-bottom:1rem><a href=https://gazsecops.github.io/posts/incident-response-what-actually-works/>Incident Response: What Actually Works at 3am</a>
<span style=color:#999;font-size:.9rem>- 2 Jul 2025</span><div style=font-size:.85rem;color:#666;margin-top:.25rem><span style=margin-right:.5rem>#security</span>
<span style=margin-right:.5rem>#incident-response</span>
<span style=margin-right:.5rem>#operations</span>
<span style=margin-right:.5rem>#linux</span>
<span style=margin-right:.5rem>#cloud</span></div></li><li style=margin-bottom:1rem><a href=https://gazsecops.github.io/posts/dns-security-what-actually-breaks/>DNS Security: What Actually Breaks</a>
<span style=color:#999;font-size:.9rem>- 12 Jun 2025</span><div style=font-size:.85rem;color:#666;margin-top:.25rem><span style=margin-right:.5rem>#security</span>
<span style=margin-right:.5rem>#dns</span>
<span style=margin-right:.5rem>#linux</span>
<span style=margin-right:.5rem>#cloud</span>
<span style=margin-right:.5rem>#monitoring</span>
<span style=margin-right:.5rem>#operations</span>
<span style=margin-right:.5rem>#incident-response</span></div></li><li style=margin-bottom:1rem><a href=https://gazsecops.github.io/posts/ai-systems-responsibility-part-3/>AI Systems Responsibility: Part 3 - Incident Response When You Have No Idea Why</a>
<span style=color:#999;font-size:.9rem>- 19 Dec 2025</span><div style=font-size:.85rem;color:#666;margin-top:.25rem><span style=margin-right:.5rem>#ai</span>
<span style=margin-right:.5rem>#incident-response</span>
<span style=margin-right:.5rem>#operations</span>
<span style=margin-right:.5rem>#series</span></div></li><li style=margin-bottom:1rem><a href=https://gazsecops.github.io/posts/security-as-code-beyond-scanning/>Beyond Scanning: What Security as Code Really Means</a>
<span style=color:#999;font-size:.9rem>- 22 Nov 2025</span><div style=font-size:.85rem;color:#666;margin-top:.25rem><span style=margin-right:.5rem>#security</span>
<span style=margin-right:.5rem>#devsecops</span>
<span style=margin-right:.5rem>#automation</span>
<span style=margin-right:.5rem>#culture</span>
<span style=margin-right:.5rem>#operations</span></div></li><li style=margin-bottom:1rem><a href=https://gazsecops.github.io/posts/penetration-testing-what-works/>Penetration Testing: What Actually Works vs What You Usually Get</a>
<span style=color:#999;font-size:.9rem>- 20 Nov 2025</span><div style=font-size:.85rem;color:#666;margin-top:.25rem><span style=margin-right:.5rem>#security</span>
<span style=margin-right:.5rem>#penetration-testing</span>
<span style=margin-right:.5rem>#red-team</span>
<span style=margin-right:.5rem>#operations</span>
<span style=margin-right:.5rem>#assessment</span></div></li></ul></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><a href=https://gazsecops.github.io/posts/oauth2-security-pitfalls/ class="button inline prev">&lt; [<span class=button__text>OAuth 2.0 Security: What Actually Breaks</span>]
</a>::
<a href=https://gazsecops.github.io/posts/password-managers-2025/ class="button inline next">[<span class=button__text>Password Managers in 2025: What Actually Works</span>] ></a></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2026</span></div><div class=build-info><span class=build-commit>e733073</span><span class=build-date>2026-02-12 12:33 UTC</span></div></div></footer></div></body></html>