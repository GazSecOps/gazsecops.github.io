<!doctype html><html lang=en><head><title>Azure Logic Apps Security: A Guide for Cyber Security Consultants :: Gareth's Engineering Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Azure Logic Apps are everywhere in modern cloud architectures. They&rsquo;re the glue between services - orchestrating workflows, connecting APIs, moving data between systems. But from a security perspective, they&rsquo;re also potential attack surfaces if configured poorly.
&#34;Your job as a consultant isn't to tick boxes - it's to understand the architecture, identify the risks, and provide actionable recommendations. Security isn't a checklist. It's understanding the system and identifying where it can be broken.&#34; This guide is for cyber security consultants assessing environments that use Azure Logic Apps. It covers the architecture, key configuration areas that matter for security, threat modeling, and common pitfalls to look out for. It&rsquo;s about understanding what&rsquo;s configurable, what the threats are, and where things typically go wrong.
Logic Apps are interesting from a security perspective because they sit at the intersection of multiple services. They&rsquo;re serverless (no infrastructure to manage), highly configurable (1000+ connectors), and often have significant permissions (managed identities with broad access). When misconfigured, they become pivot points for lateral movement, data exfiltration, or supply chain attacks. They&rsquo;re also easy to overlook in security assessments because they&rsquo;re &ldquo;just workflow automation&rdquo; - until you realize they have Contributor access to your entire subscription.
"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://gazsecops.github.io/posts/azure-logic-apps-security-guide/><link rel=stylesheet href=https://gazsecops.github.io/css/extended.min.c658c723e006469d82f697e19c5338967fad12c57650bdd915bacf9cfbe2cc38.css><link rel=stylesheet href=https://gazsecops.github.io/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://gazsecops.github.io/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://gazsecops.github.io/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://gazsecops.github.io/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://gazsecops.github.io/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://gazsecops.github.io/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://gazsecops.github.io/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css><link rel=stylesheet href=https://gazsecops.github.io/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css><link rel=stylesheet href=https://gazsecops.github.io/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://gazsecops.github.io/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css><link rel=stylesheet href=https://gazsecops.github.io/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css><link rel=stylesheet href=https://gazsecops.github.io/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://gazsecops.github.io/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel="shortcut icon" href=https://gazsecops.github.io/favicon.png><link rel=apple-touch-icon href=https://gazsecops.github.io/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Azure Logic Apps Security: A Guide for Cyber Security Consultants"><meta property="og:description" content="Azure Logic Apps are everywhere in modern cloud architectures. They&rsquo;re the glue between services - orchestrating workflows, connecting APIs, moving data between systems. But from a security perspective, they&rsquo;re also potential attack surfaces if configured poorly.
&#34;Your job as a consultant isn't to tick boxes - it's to understand the architecture, identify the risks, and provide actionable recommendations. Security isn't a checklist. It's understanding the system and identifying where it can be broken.&#34; This guide is for cyber security consultants assessing environments that use Azure Logic Apps. It covers the architecture, key configuration areas that matter for security, threat modeling, and common pitfalls to look out for. It&rsquo;s about understanding what&rsquo;s configurable, what the threats are, and where things typically go wrong.
Logic Apps are interesting from a security perspective because they sit at the intersection of multiple services. They&rsquo;re serverless (no infrastructure to manage), highly configurable (1000+ connectors), and often have significant permissions (managed identities with broad access). When misconfigured, they become pivot points for lateral movement, data exfiltration, or supply chain attacks. They&rsquo;re also easy to overlook in security assessments because they&rsquo;re &ldquo;just workflow automation&rdquo; - until you realize they have Contributor access to your entire subscription.
"><meta property="og:url" content="https://gazsecops.github.io/posts/azure-logic-apps-security-guide/"><meta property="og:site_name" content="Gareth's Engineering Blog"><meta property="og:image" content="https://gazsecops.github.io/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2026-02-06 12:15:00 +0000 UTC"></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>gareth@blog:~$</div></a></div><div class=header__search><input type=text id=header-search placeholder="Quick search..." style="padding:5px 10px;background:#222;color:#eee;border:1px solid #444;border-radius:3px;font-size:14px;width:200px"></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;‚ñæ</li><li><ul class=menu__dropdown><li><a href=/topics/>Topics</a></li><li><a href=/posts/>All</a></li><li><a href=/series/>Series</a></li><li><a href=/tags/>Tags</a></li><li><a href=/archive/>Archive</a></li><li><a href=/search/>Search</a></li><li><a href=/about/>About</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/topics/>Topics</a></li><li><a href=/posts/>All</a></li><li><a href=/series/>Series</a></li><li><a href=/tags/>Tags</a></li><li><a href=/archive/>Archive</a></li><li><a href=/search/>Search</a></li><li><a href=/about/>About</a></li></ul></nav></header><script>(function(){const e=document.getElementById("header-search");if(!e)return;e.addEventListener("keydown",function(e){if(e.key==="Enter"){const e=this.value.trim();e&&(window.location.href="/search?q="+encodeURIComponent(e))}}),document.addEventListener("keydown",function(t){t.key==="/"&&!["INPUT","TEXTAREA"].includes(t.target.tagName)&&(t.preventDefault(),e.focus()),t.key==="Escape"&&t.target===e&&e.blur()})})()</script><style>.header__inner{display:flex;align-items:center;gap:20px}.header__search{flex:none}#header-search::placeholder{color:#666;font-style:italic}#header-search:focus{outline:none;border-color:#888}@media(max-width:684px){.header__search{display:none}}</style><div class=content><article class=post><h1 class=post-title><a href=https://gazsecops.github.io/posts/azure-logic-apps-security-guide/>Azure Logic Apps Security: A Guide for Cyber Security Consultants</a></h1><div class=post-meta><time class=post-date>2026-02-06</time><span class=post-author>Gareth</span><span class=post-reading-time>16 min read (3382 words)</span></div><span class=post-tags>#<a href=https://gazsecops.github.io/tags/azure/>azure</a>&nbsp;
#<a href=https://gazsecops.github.io/tags/security/>security</a>&nbsp;
#<a href=https://gazsecops.github.io/tags/serverless/>serverless</a>&nbsp;
#<a href=https://gazsecops.github.io/tags/logic-apps/>logic-apps</a>&nbsp;
#<a href=https://gazsecops.github.io/tags/cloud-security/>cloud-security</a>&nbsp;</span><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#what-is-azure-logic-apps>What is Azure Logic Apps?</a></li><li><a href=#architecture-and-key-components>Architecture and Key Components</a><ul><li><a href=#1-logic-app-resource>1. Logic App Resource</a></li><li><a href=#2-triggers-how-it-starts>2. Triggers (How It Starts)</a></li><li><a href=#3-actions-what-it-does>3. Actions (What It Does)</a></li><li><a href=#4-connections-authentication>4. Connections (Authentication)</a></li><li><a href=#5-integration-account-b2b>5. Integration Account (B2B)</a></li><li><a href=#6-managed-identity>6. Managed Identity</a></li></ul></li><li><a href=#key-configuration-areas-what-can-be-controlled>Key Configuration Areas: What Can Be Controlled?</a><ul><li><a href=#1-authentication-and-access-control>1. Authentication and Access Control</a></li><li><a href=#2-managed-identity-permissions>2. Managed Identity Permissions</a></li><li><a href=#3-connection-security>3. Connection Security</a></li><li><a href=#4-workflow-definition-security>4. Workflow Definition Security</a></li><li><a href=#5-data-flow-and-injection-points>5. Data Flow and Injection Points</a></li><li><a href=#6-ddos-and-rate-limiting>6. DDoS and Rate Limiting</a></li><li><a href=#7-supply-chain-and-connector-risks>7. Supply Chain and Connector Risks</a></li><li><a href=#8-integration-account-security>8. Integration Account Security</a></li><li><a href=#9-network-isolation-standardise-only>9. Network Isolation (Standard/ISE Only)</a></li><li><a href=#10-secured-parameters-and-actions>10. Secured Parameters and Actions</a></li></ul></li><li><a href=#threat-model-what-attackers-target>Threat Model: What Attackers Target</a><ul><li><a href=#threat-1-unauthorized-trigger-execution>Threat 1: Unauthorized Trigger Execution</a></li><li><a href=#threat-2-credential-theft-via-connections>Threat 2: Credential Theft via Connections</a></li><li><a href=#threat-3-privilege-escalation-via-managed-identity>Threat 3: Privilege Escalation via Managed Identity</a></li><li><a href=#threat-4-injection-attacks>Threat 4: Injection Attacks</a></li><li><a href=#threat-5-supply-chain-attack-via-connector>Threat 5: Supply Chain Attack via Connector</a></li><li><a href=#threat-6-lateral-movement-across-tenants>Threat 6: Lateral Movement Across Tenants</a></li></ul></li><li><a href=#common-pitfalls-to-identify>Common Pitfalls to Identify</a><ul><li><a href=#pitfall-1-public-http-triggers-with-no-authentication>Pitfall 1: Public HTTP Triggers with No Authentication</a></li><li><a href=#pitfall-2-secrets-in-workflow-definition>Pitfall 2: Secrets in Workflow Definition</a></li><li><a href=#pitfall-3-over-privileged-managed-identities>Pitfall 3: Over-Privileged Managed Identities</a></li><li><a href=#pitfall-4-missing-input-validation>Pitfall 4: Missing Input Validation</a></li><li><a href=#pitfall-5-no-rate-limiting>Pitfall 5: No Rate Limiting</a></li><li><a href=#pitfall-6-insufficient-logging-and-monitoring>Pitfall 6: Insufficient Logging and Monitoring</a></li></ul></li><li><a href=#assessment-checklist-for-your-use>Assessment Checklist (For Your Use)</a><ul><li><a href=#fast-cli-triage-useful-on-day-1>Fast CLI Triage (Useful on Day 1)</a></li></ul></li><li><a href=#best-practices-for-secure-logic-apps>Best Practices for Secure Logic Apps</a><ul><li><a href=#1-use-managed-identities>1. Use Managed Identities</a></li><li><a href=#2-use-managed-identities-or-rbac-for-cosmos-db>2. Use Managed Identities or RBAC for Cosmos DB</a></li><li><a href=#3-store-secrets-in-key-vault>3. Store Secrets in Key Vault</a></li><li><a href=#4-validate-all-inputs>4. Validate All Inputs</a></li><li><a href=#5-use-parameterized-queries-sql-and-cosmos-db>5. Use Parameterized Queries (SQL and Cosmos DB)</a></li><li><a href=#6-implement-rate-limiting>6. Implement Rate Limiting</a></li><li><a href=#7-enable-diagnostic-logging>7. Enable Diagnostic Logging</a></li><li><a href=#8-regular-security-audits>8. Regular Security Audits</a></li></ul></li><li><a href=#further-reading>Further Reading</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div><div class=post-content><div><p>Azure Logic Apps are everywhere in modern cloud architectures. They&rsquo;re the glue between services - orchestrating workflows, connecting APIs, moving data between systems. But from a security perspective, they&rsquo;re also potential attack surfaces if configured poorly.</p><aside class=pullquote>"Your job as a consultant isn't to tick boxes - it's to understand the architecture, identify the risks, and provide actionable recommendations. Security isn't a checklist. It's understanding the system and identifying where it can be broken."</aside><p>This guide is for cyber security consultants assessing environments that use Azure Logic Apps. It covers the architecture, key configuration areas that matter for security, threat modeling, and common pitfalls to look out for. It&rsquo;s about understanding what&rsquo;s configurable, what the threats are, and where things typically go wrong.</p><p>Logic Apps are interesting from a security perspective because they sit at the intersection of multiple services. They&rsquo;re serverless (no infrastructure to manage), highly configurable (1000+ connectors), and often have significant permissions (managed identities with broad access). When misconfigured, they become pivot points for lateral movement, data exfiltration, or supply chain attacks. They&rsquo;re also easy to overlook in security assessments because they&rsquo;re &ldquo;just workflow automation&rdquo; - until you realize they have Contributor access to your entire subscription.</p><h2 id=what-is-azure-logic-apps>What is Azure Logic Apps?<a href=#what-is-azure-logic-apps class=hanchor arialabel=Anchor>#</a></h2><p>Azure Logic Apps is a serverless workflow orchestration service. You design workflows visually (drag-and-drop) or write them in code. The workflows connect to services - Azure, third-party APIs, on-prem systems - and execute logic based on triggers and actions.</p><p><strong>Key characteristics:</strong></p><ul><li><strong>Serverless:</strong> No infrastructure to manage. Azure handles scaling (Consumption plan).</li><li><strong>Visual designer:</strong> Low-code/no-code approach to building workflows.</li><li><strong>1000+ connectors:</strong> Pre-built integrations for Azure, Microsoft 365, Salesforce, SAP, etc.</li><li><strong>Multi-tenant:</strong> Can connect across tenant boundaries.</li><li><strong>Event-driven:</strong> Responds to triggers (HTTP requests, schedules, events).</li><li><strong>Deployment options:</strong> Consumption (multi-tenant), Standard (single-tenant), ISE (isolated).</li></ul><p><strong>From a security perspective:</strong> You&rsquo;re dealing with a highly configurable, multi-tenant integration platform that moves data across services. If Logic App is compromised or misconfigured, you&rsquo;re looking at lateral movement, data exfiltration, or supply chain attacks.</p><h2 id=architecture-and-key-components>Architecture and Key Components<a href=#architecture-and-key-components class=hanchor arialabel=Anchor>#</a></h2><p>Understanding the architecture is critical for identifying risks. Here&rsquo;s what you&rsquo;re typically looking at:</p><h3 id=1-logic-app-resource>1. Logic App Resource<a href=#1-logic-app-resource class=hanchor arialabel=Anchor>#</a></h3><p>The main resource that contains your workflow. Each Logic App has:</p><ul><li><strong>Workflow definition:</strong> The JSON defining triggers, actions, conditions.</li><li><strong>Access control:</strong> RBAC permissions, allowed inbound IPs.</li><li><strong>Managed Identity:</strong> A Microsoft Entra ID identity for authenticating to other Azure services.</li><li><strong>Configuration settings:</strong> Runtime version, diagnostic settings, endpoint URLs.</li><li><strong>Deployment mode:</strong> Consumption (multi-tenant) vs Standard (single-tenant) vs ISE (isolated).</li><li><strong>Network integration:</strong> Private endpoints, VNet integration (Standard/ISE only).</li></ul><h3 id=2-triggers-how-it-starts>2. Triggers (How It Starts)<a href=#2-triggers-how-it-starts class=hanchor arialabel=Anchor>#</a></h3><p>Triggers are the entry points to your workflow. Common triggers:</p><table><thead><tr><th>Trigger Type</th><th>Description</th><th>Security Implications</th></tr></thead><tbody><tr><td><strong>HTTP Request</strong></td><td>Webhook exposed to internet</td><td>Must validate authentication, rate limit, restrict IPs</td></tr><tr><td><strong>Recurrence</strong></td><td>Scheduled execution (cron-style)</td><td>Hard to detect anomalous execution if not monitored</td></tr><tr><td><strong>Event Grid</strong></td><td>Responds to Azure events</td><td>Potential for event injection if source not validated</td></tr><tr><td><strong>Service Bus</strong></td><td>Message queue trigger</td><td>Replay attacks, unauthorized message access</td></tr><tr><td><strong>Kafka</strong></td><td>Stream processing</td><td>Consumer group management, authentication to Kafka cluster</td></tr></tbody></table><h3 id=3-actions-what-it-does>3. Actions (What It Does)<a href=#3-actions-what-it-does class=hanchor arialabel=Anchor>#</a></h3><p>Actions are the steps in your workflow. Each action is a potential risk:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>Trigger (HTTP Request)
</span></span><span style=display:flex><span>  ‚Üí Action 1: Get data from API
</span></span><span style=display:flex><span>  ‚Üí Action 2: Transform data
</span></span><span style=display:flex><span>  ‚Üí Action 3: Send to database
</span></span><span style=display:flex><span>  ‚Üí Action 4: Notify via email
</span></span></code></pre></div><p>Each action typically uses a <strong>connection</strong> (see below) and can access data from previous steps. This is where injection attacks come into play - if user input reaches an action, can it be exploited?</p><h3 id=4-connections-authentication>4. Connections (Authentication)<a href=#4-connections-authentication class=hanchor arialabel=Anchor>#</a></h3><p>Connections are how Logic Apps authenticate to services. Critical security surface:</p><table><thead><tr><th>Connection</th><th>Target Service</th><th>Auth Method</th><th>Risk Level</th></tr></thead><tbody><tr><td>Connection 1</td><td>Azure Key Vault</td><td>Managed Identity</td><td>‚úÖ Secure</td></tr><tr><td>Connection 2</td><td>Office 365</td><td>OAuth token</td><td>‚úÖ Reasonable</td></tr><tr><td>Connection 3</td><td>SQL Database</td><td>Connection string</td><td>‚ùå RISK!</td></tr><tr><td>Connection 4</td><td>Cosmos DB</td><td>Connection string/Managed Identity</td><td>üü° Mixed (depends on auth)</td></tr><tr><td>Connection 5</td><td>Third-party API</td><td>API key stored</td><td>‚ùå RISK!</td></tr></tbody></table><p><strong>Connection types and risks:</strong></p><ul><li><strong>Managed Identity:</strong> No secrets. Uses Microsoft Entra ID. ‚úÖ Secure</li><li><strong>OAuth:</strong> Tokens stored by platform. Refresh periodically. ‚úÖ Reasonable</li><li><strong>Connection String/API Key:</strong> Credentials stored in API Connection resource. ‚ùå Risky</li></ul><h3 id=5-integration-account-b2b>5. Integration Account (B2B)<a href=#5-integration-account-b2b class=hanchor arialabel=Anchor>#</a></h3><p>For B2B scenarios (AS2, X12, EDI), Logic Apps use an Integration Account. Contains:</p><ul><li><strong>Partners:</strong> Trading partner configurations.</li><li><strong>Agreements:</strong> B2B protocols and certificates.</li><li><strong>Certificates:</strong> Encryption/signing certificates.</li></ul><p><strong>Risk:</strong> If compromised, attacker can impersonate trading partners or decrypt B2B messages.</p><h3 id=6-managed-identity>6. Managed Identity<a href=#6-managed-identity class=hanchor arialabel=Anchor>#</a></h3><p>A Logic App can have a system-assigned or user-assigned managed identity. This is how it authenticates to other Azure services:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>Logic App Managed Identity ‚Üí Accesses Azure Key Vault
</span></span><span style=display:flex><span>                         ‚Üí Accesses Azure Storage
</span></span><span style=display:flex><span>                         ‚Üí Accesses Azure SQL
</span></span><span style=display:flex><span>                         ‚Üí Accesses Cosmos DB
</span></span></code></pre></div><p><strong>Critical assessment question:</strong> What permissions does the managed identity have? If it&rsquo;s Contributor across the subscription, you&rsquo;ve got massive blast radius.</p><h2 id=key-configuration-areas-what-can-be-controlled>Key Configuration Areas: What Can Be Controlled?<a href=#key-configuration-areas-what-can-be-controlled class=hanchor arialabel=Anchor>#</a></h2><p>When assessing Logic Apps, you need to understand what&rsquo;s configurable and what the implications are.</p><h3 id=1-authentication-and-access-control>1. Authentication and Access Control<a href=#1-authentication-and-access-control class=hanchor arialabel=Anchor>#</a></h3><p><strong>HTTP Trigger Authentication:</strong></p><p>Logic Apps exposing HTTP endpoints can enforce authentication:</p><table><thead><tr><th>Method</th><th>Risk Level</th><th>Notes</th></tr></thead><tbody><tr><td><strong>None</strong></td><td>üî¥ HIGH</td><td>Public endpoint - anyone can trigger</td></tr><tr><td><strong>Microsoft Entra ID</strong></td><td>üü¢ LOW</td><td>Requires valid OAuth token</td></tr><tr><td><strong>Access Key</strong></td><td>üü° MEDIUM</td><td>Query string/header key - can be leaked</td></tr><tr><td><strong>IP Restrictions</strong></td><td>üü° MEDIUM</td><td>Whitelist specific IPs - depends on quality</td></tr></tbody></table><p><strong>Assessment questions:</strong></p><ul><li>Is the HTTP trigger public? What authentication is enforced?</li><li>Are IP restrictions in place? Are they too permissive (e.g., 0.0.0.0/0)?</li><li>If using Access Keys, are they rotated? Are they stored securely?</li><li>If using Microsoft Entra ID, what permissions does the calling identity have?</li></ul><h3 id=2-managed-identity-permissions>2. Managed Identity Permissions<a href=#2-managed-identity-permissions class=hanchor arialabel=Anchor>#</a></h3><p>The managed identity assigned to the Logic App defines what it can do:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;identity&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;SystemAssigned&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;properties&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;principalId&#34;</span>: <span style=color:#e6db74>&#34;xxx-xxx-xxx&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Assessment:</strong></p><ol><li><strong>Find the managed identity</strong> (principalId).</li><li><strong>Check Microsoft Entra ID role assignments</strong> for that identity.</li><li><strong>Assess scope and permissions:</strong><ul><li>Does it have Contributor on the subscription? (Excessive)</li><li>Does it have Reader on Key Vault? (Read-only, reasonable)</li><li>Does it have specific role on SQL Database? (Least privilege)</li></ul></li></ol><p><strong>Risk example:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>Logic App (Managed Identity)
</span></span><span style=display:flex><span>  ‚Üí Has Contributor on Resource Group
</span></span><span style=display:flex><span>  ‚Üí Can create new Logic App
</span></span><span style=display:flex><span>  ‚Üí Can modify existing Logic App workflows
</span></span><span style=display:flex><span>  ‚Üí Attacker modifies workflow to exfiltrate data
</span></span></code></pre></div><h3 id=3-connection-security>3. Connection Security<a href=#3-connection-security class=hanchor arialabel=Anchor>#</a></h3><p>Review how Logic Apps authenticate to target services:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;connection&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;azurekeyvault&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ManagedServiceIdentity&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Good:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;connection&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;azurekeyvault&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ManagedServiceIdentity&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;/subscriptions/xxx/resourceGroups/xxx/providers/Microsoft.ManagedIdentity/userAssignedIdentities/xxx&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Bad:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;connection&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;sql-database&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ConnectionString&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;Server=tcp:xxx.database.windows.net;Database=xxx;User Id=xxx;Password=SECRET_HERE;&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Bad (Cosmos DB):</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;connection&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;cosmos-db&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ConnectionString&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;AccountEndpoint=https://xxx.documents.azure.com:443/;AccountKey=SECRET_HERE;&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Good (Cosmos DB with Managed Identity):</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;connection&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;cosmos-db&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ManagedServiceIdentity&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;/subscriptions/xxx/resourceGroups/xxx/providers/Microsoft.ManagedIdentity/userAssignedIdentities/xxx&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Assessment questions:</strong></p><ul><li>Are connections using Managed Identities where possible?</li><li>Are connection strings or API keys stored directly in the Logic App?</li><li>If connection strings are used, are they stored in Key Vault?</li><li>Do connections use OAuth tokens (which expire) vs static credentials?</li></ul><h3 id=4-workflow-definition-security>4. Workflow Definition Security<a href=#4-workflow-definition-security class=hanchor arialabel=Anchor>#</a></h3><p>The workflow definition is JSON. Look for:</p><p><strong>Secrets in workflow:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;actions&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;HTTP&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;inputs&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;authentication&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;Raw&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;Bearer eyJ0eXAiOiJKV1QiLCJ...&#34;</span>  <span style=color:#960050;background-color:#1e0010>‚Üê</span> <span style=color:#960050;background-color:#1e0010>SECRET!</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Hardcoded values:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;actions&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;Send_Email&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;inputs&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;to&#34;</span>: <span style=color:#e6db74>&#34;admin@company.com&#34;</span>,  <span style=color:#960050;background-color:#1e0010>‚Üê</span> <span style=color:#960050;background-color:#1e0010>Hardcoded</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;subject&#34;</span>: <span style=color:#e6db74>&#34;Alert&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;body&#34;</span>: <span style=color:#e6db74>&#34;@{triggerBody()}&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Assessment questions:</strong></p><ul><li>Are secrets embedded in the workflow definition?</li><li>Are hard-coded values present (emails, URLs, paths)?</li><li>Is the workflow definition in source control (and is it public)?</li><li>Who has permission to modify the workflow?</li></ul><h3 id=5-data-flow-and-injection-points>5. Data Flow and Injection Points<a href=#5-data-flow-and-injection-points class=hanchor arialabel=Anchor>#</a></h3><p>Trace data through the workflow to identify injection risks:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>HTTP Request (user input)
</span></span><span style=display:flex><span>  ‚Üí Action 1: Parse JSON (user.username)
</span></span><span style=display:flex><span>  ‚Üí Action 2: Query SQL (SELECT * FROM users WHERE username = &#39;@{user.username}&#39;)
</span></span><span style=display:flex><span>  ‚Üí Action 3: Query Cosmos DB (SELECT * FROM c WHERE c.username = &#39;@{user.username}&#39;)
</span></span><span style=display:flex><span>  ‚Üí Action 4: Send email
</span></span></code></pre></div><p><strong>Injection risks:</strong></p><table><thead><tr><th>Injection Type</th><th>Where It Happens</th><th>Example</th></tr></thead><tbody><tr><td><strong>SQL Injection</strong></td><td>SQL action with user input</td><td><code>' OR '1'='1</code></td></tr><tr><td><strong>NoSQL Injection</strong></td><td>Cosmos DB query with user input</td><td><code>{username: {$or: [{userId: "admin"}, {userId: "attacker"}]}</code></td></tr><tr><td><strong>Command Injection</strong></td><td>Execute action with shell command</td><td><code>; rm -rf /</code></td></tr><tr><td><strong>XSS</strong></td><td>HTML output, email body</td><td><code>&lt;script>alert('xss')&lt;/script></code></td></tr><tr><td><strong>Log Injection</strong></td><td>Logging action with user input</td><td><code>\nERROR: Critical failure</code></td></tr></tbody></table><p><strong>Assessment:</strong></p><ul><li>Does user input reach actions that execute queries or commands?</li><li>Are inputs validated before use?</li><li>Are outputs encoded (HTML, URL, JSON)?</li><li>Does the workflow use parameterized queries for SQL or Cosmos DB?</li></ul><h3 id=6-ddos-and-rate-limiting>6. DDoS and Rate Limiting<a href=#6-ddos-and-rate-limiting class=hanchor arialabel=Anchor>#</a></h3><p>Logic Apps can be overwhelmed by:</p><ul><li><strong>Excessive HTTP requests</strong> (flood the trigger)</li><li><strong>Large payloads</strong> (memory exhaustion)</li><li><strong>Long-running workflows</strong> (resource exhaustion)</li></ul><p><strong>Configuration options:</strong></p><ul><li><strong>Concurrency limits:</strong> How many workflow instances run simultaneously?</li><li><strong>Timeouts:</strong> Maximum duration per workflow run.</li><li><strong>Retry policies:</strong> How many times to retry on failure?</li><li><strong>IP restrictions:</strong> Block known bad IPs.</li></ul><p><strong>Assessment questions:</strong></p><ul><li>Are concurrency limits configured appropriately?</li><li>Are timeouts set to prevent runaway workflows?</li><li>Is there a retry policy that could amplify failures?</li><li>Are IP restrictions used to block known threats?</li></ul><h3 id=7-supply-chain-and-connector-risks>7. Supply Chain and Connector Risks<a href=#7-supply-chain-and-connector-risks class=hanchor arialabel=Anchor>#</a></h3><p>Logic Apps use connectors to integrate with services. Each connector is a dependency:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>Logic App ‚Üí Connector A (Third-party API)
</span></span><span style=display:flex><span>         ‚Üí Connector B (Azure Service)
</span></span><span style=display:flex><span>         ‚Üí Connector C (Custom connector)
</span></span></code></pre></div><p><strong>Risks:</strong></p><ul><li><strong>Vulnerable connector:</strong> Third-party connector has a vulnerability.</li><li><strong>Supply chain attack:</strong> Connector repository compromised, malicious code deployed.</li><li><strong>EOL connectors:</strong> No longer maintained, may have known CVEs.</li></ul><p><strong>Assessment:</strong></p><ul><li>What connectors are in use? Are they first-party (Microsoft) or third-party?</li><li>Are connectors up-to-date? When were they last modified?</li><li>Are custom connectors used? Who developed them? Are they audited?</li><li>Are there any connectors with known vulnerabilities (check CVE database)?</li></ul><h3 id=8-integration-account-security>8. Integration Account Security<a href=#8-integration-account-security class=hanchor arialabel=Anchor>#</a></h3><p>If an Integration Account is used, assess:</p><p><strong>Certificates:</strong></p><ul><li>Are encryption/signing certificates stored securely?</li><li>Are they near expiry?</li><li>Are private keys accessible only to authorized identities?</li></ul><p><strong>Partners and Agreements:</strong></p><ul><li>Are trading partners validated before adding?</li><li>Are agreements reviewed for security implications?</li><li>Can an unauthorized partner be added?</li></ul><p><strong>Assessment questions:</strong></p><ul><li>Who has access to the Integration Account?</li><li>Are certificates stored in Key Vault?</li><li>Is there an audit trail for partner/agreement changes?</li></ul><h3 id=9-network-isolation-standardise-only>9. Network Isolation (Standard/ISE Only)<a href=#9-network-isolation-standardise-only class=hanchor arialabel=Anchor>#</a></h3><p>For Standard and ISE deployments, network security controls are available:</p><p><strong>Private Endpoints:</strong></p><ul><li>Logic App accessible only from private VNet</li><li>No public internet exposure</li><li>Traffic stays within Azure backbone</li></ul><p><strong>VNet Integration:</strong></p><ul><li>Outbound traffic routes through VNet</li><li>Can access on-premises resources via ExpressRoute/VPN</li><li>Network security groups (NSGs) apply</li></ul><p><strong>Deployment comparison:</strong></p><table><thead><tr><th>Feature</th><th>Consumption</th><th>Standard</th><th>ISE</th></tr></thead><tbody><tr><td>Network isolation</td><td>‚ùå No</td><td>‚úÖ VNet integration</td><td>‚úÖ Dedicated VNet</td></tr><tr><td>Private endpoints</td><td>‚ùå No</td><td>‚úÖ Yes</td><td>‚úÖ Yes</td></tr><tr><td>Static outbound IPs</td><td>‚ùå No</td><td>‚úÖ NAT Gateway</td><td>‚úÖ Built-in</td></tr><tr><td>On-prem connectivity</td><td>Via gateway</td><td>‚úÖ Direct</td><td>‚úÖ Direct</td></tr></tbody></table><p><strong>Assessment questions:</strong></p><ul><li>Is network isolation required for this Logic App&rsquo;s sensitivity level?</li><li>Are private endpoints configured for Standard/ISE deployments?</li><li>Are NSGs restricting traffic appropriately?</li><li>Is outbound traffic monitored (firewall, NSG flow logs)?</li></ul><h3 id=10-secured-parameters-and-actions>10. Secured Parameters and Actions<a href=#10-secured-parameters-and-actions class=hanchor arialabel=Anchor>#</a></h3><p>Logic Apps support &ldquo;secure&rdquo; parameters and actions that mask values in run history:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;parameters&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;apiKey&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;securestring&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;...&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>What gets secured:</strong></p><ul><li>Input/output values marked as <code>securestring</code> or <code>secureobject</code></li><li>Not visible in run history or diagnostics</li><li>Prevents accidental exposure in logs</li></ul><p><strong>Assessment questions:</strong></p><ul><li>Are sensitive parameters marked as secure?</li><li>Is run history enabled? Who can access it?</li><li>Are secured actions used for sensitive operations?</li></ul><h2 id=threat-model-what-attackers-target>Threat Model: What Attackers Target<a href=#threat-model-what-attackers-target class=hanchor arialabel=Anchor>#</a></h2><h3 id=threat-1-unauthorized-trigger-execution>Threat 1: Unauthorized Trigger Execution<a href=#threat-1-unauthorized-trigger-execution class=hanchor arialabel=Anchor>#</a></h3><p><strong>Scenario:</strong> Attacker finds a public HTTP trigger and sends malicious payload.</p><p><strong>Impact:</strong></p><ul><li>Data exfiltration (if trigger returns sensitive data)</li><li>Lateral movement (if trigger modifies other resources)</li><li>DDoS (if attacker floods the trigger)</li></ul><p><strong>Mitigation:</strong></p><ul><li>Enforce authentication (Microsoft Entra ID, Access Keys).</li><li>Restrict inbound IPs.</li><li>Validate and sanitize inputs.</li><li>Monitor for anomalous patterns.</li></ul><h3 id=threat-2-credential-theft-via-connections>Threat 2: Credential Theft via Connections<a href=#threat-2-credential-theft-via-connections class=hanchor arialabel=Anchor>#</a></h3><p><strong>Scenario:</strong> Connection strings/API keys stored in Logic App are exposed.</p><p><strong>Impact:</strong></p><ul><li>Attacker accesses target services directly.</li><li>Lateral movement across services.</li><li>Privilege escalation if credentials are over-privileged.</li></ul><p><strong>Mitigation:</strong></p><ul><li>Use Managed Identities where possible.</li><li>Store secrets in Key Vault, not Logic Apps.</li><li>Rotate credentials regularly.</li><li>Use OAuth tokens (expire) instead of static keys.</li></ul><h3 id=threat-3-privilege-escalation-via-managed-identity>Threat 3: Privilege Escalation via Managed Identity<a href=#threat-3-privilege-escalation-via-managed-identity class=hanchor arialabel=Anchor>#</a></h3><p><strong>Scenario:</strong> Logic App&rsquo;s managed identity has excessive permissions.</p><p><strong>Impact:</strong></p><ul><li>Logic App can create/modify resources it shouldn&rsquo;t.</li><li>Attacker exploits workflow to access unrelated services.</li><li>Full tenant compromise if identity has global permissions.</li></ul><p><strong>Mitigation:</strong></p><ul><li>Follow principle of least privilege.</li><li>Use scoped identities (resource group, not subscription).</li><li>Regularly audit role assignments.</li><li>Just-in-time access where possible.</li></ul><h3 id=threat-4-injection-attacks>Threat 4: Injection Attacks<a href=#threat-4-injection-attacks class=hanchor arialabel=Anchor>#</a></h3><p><strong>Scenario:</strong> User input reaches an action without validation.</p><p><strong>Impact:</strong></p><ul><li>SQL injection ‚Üí SQL Database compromise.</li><li>NoSQL injection ‚Üí Cosmos DB unauthorized access.</li><li>Command injection ‚Üí Server compromise.</li><li>XSS ‚Üí Client-side attacks.</li><li>Log injection ‚Üí Hide malicious activity.</li></ul><p><strong>Mitigation:</strong></p><ul><li>Validate all inputs (type, length, format).</li><li>Use parameterized queries for SQL and Cosmos DB.</li><li>Encode outputs (HTML, URL, JSON).</li><li>Don&rsquo;t trust user input.</li></ul><h3 id=threat-5-supply-chain-attack-via-connector>Threat 5: Supply Chain Attack via Connector<a href=#threat-5-supply-chain-attack-via-connector class=hanchor arialabel=Anchor>#</a></h3><p><strong>Scenario:</strong> Malicious connector deployed or legitimate connector has vulnerability.</p><p><strong>Impact:</strong></p><ul><li>Data exfiltration via connector.</li><li>Execution of arbitrary code.</li><li>Compromise of target service.</li></ul><p><strong>Mitigation:</strong></p><ul><li>Prefer first-party connectors (Microsoft) over third-party.</li><li>Regularly update connectors.</li><li>Audit custom connectors.</li><li>Monitor connector usage and behavior.</li></ul><h3 id=threat-6-lateral-movement-across-tenants>Threat 6: Lateral Movement Across Tenants<a href=#threat-6-lateral-movement-across-tenants class=hanchor arialabel=Anchor>#</a></h3><p><strong>Scenario:</strong> Logic App connects to multiple tenants (multi-tenant connectors).</p><p><strong>Impact:</strong></p><ul><li>Attacker moves from compromised tenant to target tenant.</li><li>Cross-tenant data access.</li><li>Bypassing tenant security controls.</li></ul><p><strong>Mitigation:</strong></p><ul><li>Minimize multi-tenant connector usage.</li><li>Validate cross-tenant access requirements.</li><li>Monitor cross-tenant activity.</li><li>Use tenant-specific identities where possible.</li></ul><h2 id=common-pitfalls-to-identify>Common Pitfalls to Identify<a href=#common-pitfalls-to-identify class=hanchor arialabel=Anchor>#</a></h2><h3 id=pitfall-1-public-http-triggers-with-no-authentication>Pitfall 1: Public HTTP Triggers with No Authentication<a href=#pitfall-1-public-http-triggers-with-no-authentication class=hanchor arialabel=Anchor>#</a></h3><p><strong>What you&rsquo;ll see:</strong></p><ul><li>HTTP trigger exposed to internet</li><li>Authentication set to &ldquo;None&rdquo;</li><li>No IP restrictions</li></ul><p><strong>Risk:</strong> Anyone can trigger the workflow.</p><h3 id=pitfall-2-secrets-in-workflow-definition>Pitfall 2: Secrets in Workflow Definition<a href=#pitfall-2-secrets-in-workflow-definition class=hanchor arialabel=Anchor>#</a></h3><p><strong>What you&rsquo;ll see:</strong></p><ul><li>Connection strings in workflow JSON</li><li>API keys in action inputs</li><li>Hard-coded credentials in parameters</li></ul><p><strong>Risk:</strong> Anyone with access to the Logic App (or source control) has credentials.</p><h3 id=pitfall-3-over-privileged-managed-identities>Pitfall 3: Over-Privileged Managed Identities<a href=#pitfall-3-over-privileged-managed-identities class=hanchor arialabel=Anchor>#</a></h3><p><strong>What you&rsquo;ll see:</strong></p><ul><li>Managed Identity has Contributor on subscription</li><li>Same identity used across multiple Logic Apps</li><li>No separation of duties</li></ul><p><strong>Risk:</strong> Compromised Logic App can modify entire subscription.</p><h3 id=pitfall-4-missing-input-validation>Pitfall 4: Missing Input Validation<a href=#pitfall-4-missing-input-validation class=hanchor arialabel=Anchor>#</a></h3><p><strong>What you&rsquo;ll see:</strong></p><ul><li>User input passed directly to SQL or Cosmos DB queries</li><li>No validation before using trigger body</li><li>No sanitization before sending to external APIs</li></ul><p><strong>Risk:</strong> Injection attacks (SQL, NoSQL, command, XSS).</p><h3 id=pitfall-5-no-rate-limiting>Pitfall 5: No Rate Limiting<a href=#pitfall-5-no-rate-limiting class=hanchor arialabel=Anchor>#</a></h3><p><strong>What you&rsquo;ll see:</strong></p><ul><li>Concurrency limit set to maximum (or not set)</li><li>No timeout configured</li><li>No retry policy or exponential backoff</li></ul><p><strong>Risk:</strong> DDoS, resource exhaustion, cascading failures.</p><h3 id=pitfall-6-insufficient-logging-and-monitoring>Pitfall 6: Insufficient Logging and Monitoring<a href=#pitfall-6-insufficient-logging-and-monitoring class=hanchor arialabel=Anchor>#</a></h3><p><strong>What you&rsquo;ll see:</strong></p><ul><li>No diagnostic settings configured</li><li>No Application Insights integration</li><li>No alerts on failures or anomalies</li></ul><p><strong>Risk:</strong> Attacks go undetected, difficult to investigate.</p><h2 id=assessment-checklist-for-your-use>Assessment Checklist (For Your Use)<a href=#assessment-checklist-for-your-use class=hanchor arialabel=Anchor>#</a></h2><p><strong>High-Level Questions:</strong></p><ol><li>What triggers are exposed? How are they authenticated?</li><li>What services does the Logic App connect to? How?</li><li>What permissions does the Logic App have? Are they appropriate?</li><li>Where does user input come from? How is it validated?</li><li>What data flows through the workflow? Where does it go?</li><li>How is the Logic App deployed and versioned?</li><li>What logging and monitoring is in place?</li></ol><p><strong>Quick Wins:</strong></p><ul><li><input disabled type=checkbox> Public triggers have authentication (Microsoft Entra ID or Access Keys)</li><li><input disabled type=checkbox> Managed Identities used instead of connection strings</li><li><input disabled type=checkbox> Secrets stored in Key Vault, not Logic Apps</li><li><input disabled type=checkbox> IP restrictions on public triggers</li><li><input disabled type=checkbox> Input validation before using trigger body</li><li><input disabled type=checkbox> Diagnostic settings configured</li><li><input disabled type=checkbox> Role assignments follow least privilege</li><li><input disabled type=checkbox> Connections are up-to-date and from trusted sources</li></ul><h3 id=fast-cli-triage-useful-on-day-1>Fast CLI Triage (Useful on Day 1)<a href=#fast-cli-triage-useful-on-day-1 class=hanchor arialabel=Anchor>#</a></h3><p>If you get given a subscription and told &ldquo;we use Logic Apps&rdquo;, start by finding what exists.</p><p>List Consumption/ISE Logic Apps (workflow resources):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>az resource list <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --resource-type Microsoft.Logic/workflows <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --query <span style=color:#e6db74>&#34;[].{name:name, rg:resourceGroup, location:location, id:id}&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  -o table
</span></span></code></pre></div><p>List Logic App Standard apps (workflowapp sites):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>az resource list <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --resource-type Microsoft.Web/sites <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --query <span style=color:#e6db74>&#34;[?contains(kind, &#39;workflowapp&#39;)].{name:name, rg:resourceGroup, location:location, id:id}&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  -o table
</span></span></code></pre></div><p>Enumerate API connections (where a lot of the secrets hide):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>az resource list <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --resource-type Microsoft.Web/connections <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --query <span style=color:#e6db74>&#34;[].{name:name, rg:resourceGroup, location:location, id:id}&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  -o table
</span></span></code></pre></div><p>For a given Logic App (Consumption), pull the managed identity principal ID:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>az resource show <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --ids <span style=color:#e6db74>&#34;/subscriptions/SUB/resourceGroups/RG/providers/Microsoft.Logic/workflows/WORKFLOW&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --query <span style=color:#e6db74>&#34;identity.principalId&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  -o tsv
</span></span></code></pre></div><p>Then list its Azure RBAC assignments (this is usually where the worst findings are):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>az role assignment list <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --assignee PRINCIPAL_ID <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --all <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --query <span style=color:#e6db74>&#34;[].{role:roleDefinitionName, scope:scope}&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  -o table
</span></span></code></pre></div><p>For a given workflow, spot HTTP request triggers quickly:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>az resource show <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --ids <span style=color:#e6db74>&#34;/subscriptions/SUB/resourceGroups/RG/providers/Microsoft.Logic/workflows/WORKFLOW&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --query <span style=color:#e6db74>&#34;properties.definition.triggers&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  -o json <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>| jq <span style=color:#e6db74>&#39;to_entries[] | select(.value.type==&#34;Request&#34;) | {trigger:.key, kind:(.value.kind // &#34;&#34;), inputs:(.value.inputs // {})}&#39;</span>
</span></span></code></pre></div><p>This doesn&rsquo;t tell you whether the endpoint is publicly reachable (networking and auth still matter), but it tells you where the internet-facing mistakes usually are.</p><h2 id=best-practices-for-secure-logic-apps>Best Practices for Secure Logic Apps<a href=#best-practices-for-secure-logic-apps class=hanchor arialabel=Anchor>#</a></h2><h3 id=1-use-managed-identities>1. Use Managed Identities<a href=#1-use-managed-identities class=hanchor arialabel=Anchor>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;identity&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;SystemAssigned&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Grant the identity specific permissions (e.g., Key Vault Secrets User, not Contributor).</p><h3 id=2-use-managed-identities-or-rbac-for-cosmos-db>2. Use Managed Identities or RBAC for Cosmos DB<a href=#2-use-managed-identities-or-rbac-for-cosmos-db class=hanchor arialabel=Anchor>#</a></h3><p><strong>Cosmos DB supports Managed Identities and RBAC:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;connection&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;cosmos-db&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ManagedServiceIdentity&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;/subscriptions/xxx/resourceGroups/xxx/providers/Microsoft.ManagedIdentity/userAssignedIdentities/xxx&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Avoid account keys:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;connection&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;cosmos-db&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ConnectionString&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;AccountEndpoint=https://xxx.documents.azure.com:443/;AccountKey=SECRET_HERE;&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Grant the managed identity Data Contributor or other role-based access to Cosmos DB instead of using account keys.</p><h3 id=3-store-secrets-in-key-vault>3. Store Secrets in Key Vault<a href=#3-store-secrets-in-key-vault class=hanchor arialabel=Anchor>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;inputs&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;secretUri&#34;</span>: <span style=color:#e6db74>&#34;@parameters(&#39;$connections&#39;)[&#39;azurekeyvault&#39;][&#39;secretUri&#39;]&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Never embed secrets in workflow definitions.</p><h3 id=4-validate-all-inputs>4. Validate All Inputs<a href=#4-validate-all-inputs class=hanchor arialabel=Anchor>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;actions&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Validate_Input&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;If&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;expression&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;and&#34;</span>: [
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;not&#34;</span>: <span style=color:#e6db74>&#34;contains(triggerBody()?[&#39;username&#39;], &#39;;&#39;)&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;less&#34;</span>: [ <span style=color:#960050;background-color:#1e0010>&#34;length(triggerBody()?</span>[<span style=color:#960050;background-color:#1e0010>&#39;username&#39;</span>]<span style=color:#960050;background-color:#1e0010>)</span>, <span style=color:#ae81ff>50</span> ] }
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Reject invalid inputs early in the workflow.</p><h3 id=5-use-parameterized-queries-sql-and-cosmos-db>5. Use Parameterized Queries (SQL and Cosmos DB)<a href=#5-use-parameterized-queries-sql-and-cosmos-db class=hanchor arialabel=Anchor>#</a></h3><p><strong>SQL parameterized query:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;actions&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Query_SQL&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;Query&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;inputs&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;query&#34;</span>: <span style=color:#e6db74>&#34;SELECT * FROM users WHERE username = @username&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;parameters&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;username&#34;</span>: <span style=color:#e6db74>&#34;@triggerBody()?[&#39;username&#39;]&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Cosmos DB parameterized query (NoSQL):</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;actions&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Query_Cosmos&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;QueryDocuments&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;inputs&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;collectionId&#34;</span>: <span style=color:#e6db74>&#34;users&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;query&#34;</span>: <span style=color:#e6db74>&#34;SELECT * FROM c WHERE c.username = @username&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;parameters&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;@username&#34;</span>: <span style=color:#e6db74>&#34;@triggerBody()?[&#39;username&#39;]&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Using parameters prevents injection attacks for both SQL and NoSQL databases.</p><h3 id=6-implement-rate-limiting>6. Implement Rate Limiting<a href=#6-implement-rate-limiting class=hanchor arialabel=Anchor>#</a></h3><p>For Logic Apps, &ldquo;rate limiting&rdquo; usually means:</p><ul><li>Concurrency control on triggers (stop someone from fanning out 1,000 parallel runs)</li><li>Timeouts on actions (stop workflows hanging forever)</li><li>Retry policies with backoff (stop an outage turning into a retry storm)</li></ul><p>Example request trigger with concurrency control:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;triggers&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;When_a_HTTP_request_is_received&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;Request&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;kind&#34;</span>: <span style=color:#e6db74>&#34;Http&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;inputs&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;schema&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;object&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;properties&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;id&#34;</span>: { <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;string&#34;</span> }
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;required&#34;</span>: [<span style=color:#e6db74>&#34;id&#34;</span>]
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;runtimeConfiguration&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;concurrency&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;runs&#34;</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Example action timeout + retry policy:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;actions&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Call_External_API&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;Http&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;inputs&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;method&#34;</span>: <span style=color:#e6db74>&#34;GET&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;uri&#34;</span>: <span style=color:#e6db74>&#34;https://api.example.com/data&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;timeout&#34;</span>: <span style=color:#e6db74>&#34;PT30S&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;retryPolicy&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;exponential&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;interval&#34;</span>: <span style=color:#e6db74>&#34;PT5S&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;count&#34;</span>: <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Prevent runaway workflows and DDoS.</p><h3 id=7-enable-diagnostic-logging>7. Enable Diagnostic Logging<a href=#7-enable-diagnostic-logging class=hanchor arialabel=Anchor>#</a></h3><p>If you do nothing else, get runtime logs into Log Analytics.</p><p>First, discover what diagnostic categories exist for the resource (they vary by resource type and SKU):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>az monitor diagnostic-settings categories list <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --resource <span style=color:#e6db74>&#34;/subscriptions/SUB/resourceGroups/RG/providers/Microsoft.Logic/workflows/WORKFLOW&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  -o table
</span></span></code></pre></div><p>Then create a diagnostic setting to ship logs to a workspace:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>az monitor diagnostic-settings create <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --name send-to-law <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --resource <span style=color:#e6db74>&#34;/subscriptions/SUB/resourceGroups/RG/providers/Microsoft.Logic/workflows/WORKFLOW&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --workspace <span style=color:#e6db74>&#34;/subscriptions/SUB/resourceGroups/RG/providers/Microsoft.OperationalInsights/workspaces/LAW&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --logs <span style=color:#e6db74>&#39;[{&#34;category&#34;:&#34;WorkflowRuntime&#34;,&#34;enabled&#34;:true}]&#39;</span>
</span></span></code></pre></div><p>KQL starter queries (field names vary, so start by exploring):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>AzureDiagnostics
</span></span><span style=display:flex><span>| where ResourceProvider =~ &#34;MICROSOFT.LOGIC&#34;
</span></span><span style=display:flex><span>| where Category =~ &#34;WorkflowRuntime&#34;
</span></span><span style=display:flex><span>| take 50
</span></span></code></pre></div><p>Find failing runs:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>AzureDiagnostics
</span></span><span style=display:flex><span>| where ResourceProvider =~ &#34;MICROSOFT.LOGIC&#34;
</span></span><span style=display:flex><span>| where Category =~ &#34;WorkflowRuntime&#34;
</span></span><span style=display:flex><span>| where status_s !~ &#34;Succeeded&#34;
</span></span><span style=display:flex><span>| summarize count() by status_s, Resource
</span></span><span style=display:flex><span>| order by count_ desc
</span></span></code></pre></div><p>Track control-plane changes (who changed a workflow):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>AzureActivity
</span></span><span style=display:flex><span>| where ResourceProviderValue =~ &#34;MICROSOFT.LOGIC&#34;
</span></span><span style=display:flex><span>| where OperationNameValue has &#34;workflows&#34;
</span></span><span style=display:flex><span>| project TimeGenerated, Caller, OperationNameValue, ActivityStatusValue, ResourceGroup, Resource
</span></span><span style=display:flex><span>| order by TimeGenerated desc
</span></span></code></pre></div><p>If you can&rsquo;t answer &ldquo;who changed this workflow&rdquo; and &ldquo;when did runs start failing&rdquo; inside 60 seconds, you don&rsquo;t have monitoring. You have vibes.</p><h3 id=8-regular-security-audits>8. Regular Security Audits<a href=#8-regular-security-audits class=hanchor arialabel=Anchor>#</a></h3><ul><li>Review role assignments quarterly.</li><li>Rotate Access Keys monthly.</li><li>Review connector updates monthly.</li><li>Audit workflow changes (source control, activity logs).</li></ul><h2 id=further-reading>Further Reading<a href=#further-reading class=hanchor arialabel=Anchor>#</a></h2><ul><li><a href=https://docs.microsoft.com/azure/logic-apps/logic-apps-securing-a-logic-app>Azure Logic Apps Security Documentation</a></li><li><a href=https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources>Managed Identities for Azure Resources</a></li><li><a href=https://docs.microsoft.com/azure/key-vault/general/security-overview>Azure Key Vault Security</a></li><li><a href=https://docs.microsoft.com/azure/role-based-access-control/best-practices>Azure RBAC Best Practices</a></li><li><a href=https://owasp.org/www-community/attacks/injection>OWASP Injection Flaws</a></li></ul><h2 id=conclusion>Conclusion<a href=#conclusion class=hanchor arialabel=Anchor>#</a></h2><p>Azure Logic Apps are powerful but add significant attack surface if not secured correctly. Your job as a consultant isn&rsquo;t to tick boxes - it&rsquo;s to understand the architecture, identify the risks, and provide actionable recommendations.</p><p>Focus on:</p><ul><li><strong>Authentication and access control</strong> (who can trigger what?)</li><li><strong>Secrets management</strong> (where are credentials stored?)</li><li><strong>Permissions and identities</strong> (what can the Logic App do?)</li><li><strong>Data flow and injection</strong> (what reaches critical actions?)</li><li><strong>Monitoring and logging</strong> (can you detect when something goes wrong?)</li></ul><p>Security isn&rsquo;t a checklist. It&rsquo;s understanding the system and identifying where it can be broken. This guide should give you the foundation to do that for Azure Logic Apps.</p><hr><p><em>This guide is based on real-world security assessments of Azure environments. Always validate findings with the environment owner before reporting.</em></p></div></div><div class=related-posts style="margin-top:3rem;padding-top:2rem;border-top:1px solid #333"><h3>Related Posts</h3><ul style=list-style:none;padding:0><li style=margin-bottom:1rem><a href=https://gazsecops.github.io/posts/saas-paas-gateway-security-pattern/>SaaS + PaaS Gateway Security Pattern: Trust Boundaries and Data Sovereignty</a>
<span style=color:#999;font-size:.9rem>- 11 Feb 2026</span><div style=font-size:.85rem;color:#666;margin-top:.25rem><span style=margin-right:.5rem>#azure</span>
<span style=margin-right:.5rem>#security</span>
<span style=margin-right:.5rem>#saas</span>
<span style=margin-right:.5rem>#architecture</span>
<span style=margin-right:.5rem>#api-gateway</span>
<span style=margin-right:.5rem>#trust-boundary</span></div></li><li style=margin-bottom:1rem><a href=https://gazsecops.github.io/posts/threat-analysis-practical-guide/>Threat Analysis: What Actually Works</a>
<span style=color:#999;font-size:.9rem>- 8 Feb 2026</span><div style=font-size:.85rem;color:#666;margin-top:.25rem><span style=margin-right:.5rem>#security</span>
<span style=margin-right:.5rem>#threat-analysis</span>
<span style=margin-right:.5rem>#risk-management</span>
<span style=margin-right:.5rem>#defense</span>
<span style=margin-right:.5rem>#methodology</span></div></li><li style=margin-bottom:1rem><a href=https://gazsecops.github.io/posts/workload-identity-beyond-api-keys/>Workload Identity: Giving Your Services an Identity Without the Secret Sprawl</a>
<span style=color:#999;font-size:.9rem>- 8 Feb 2026</span><div style=font-size:.85rem;color:#666;margin-top:.25rem><span style=margin-right:.5rem>#security</span>
<span style=margin-right:.5rem>#identity</span>
<span style=margin-right:.5rem>#cloud</span>
<span style=margin-right:.5rem>#kubernetes</span>
<span style=margin-right:.5rem>#spiffe</span>
<span style=margin-right:.5rem>#operations</span></div></li><li style=margin-bottom:1rem><a href=https://gazsecops.github.io/posts/oauth2-obo-flow-complete-guide/>OAuth2 On-Behalf-Of Flow: A Complete Guide for Microservices</a>
<span style=color:#999;font-size:.9rem>- 4 Feb 2026</span><div style=font-size:.85rem;color:#666;margin-top:.25rem><span style=margin-right:.5rem>#oauth2</span>
<span style=margin-right:.5rem>#security</span>
<span style=margin-right:.5rem>#microservices</span>
<span style=margin-right:.5rem>#authentication</span>
<span style=margin-right:.5rem>#authorization</span></div></li><li style=margin-bottom:1rem><a href=https://gazsecops.github.io/posts/security-as-code-beyond-scanning/>Beyond Scanning: What Security as Code Really Means</a>
<span style=color:#999;font-size:.9rem>- 22 Nov 2025</span><div style=font-size:.85rem;color:#666;margin-top:.25rem><span style=margin-right:.5rem>#security</span>
<span style=margin-right:.5rem>#devsecops</span>
<span style=margin-right:.5rem>#automation</span>
<span style=margin-right:.5rem>#culture</span>
<span style=margin-right:.5rem>#operations</span></div></li></ul></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><a href=https://gazsecops.github.io/posts/workload-identity-beyond-api-keys/ class="button inline prev">&lt; [<span class=button__text>Workload Identity: Giving Your Services an Identity Without the Secret Sprawl</span>]
</a>::
<a href=https://gazsecops.github.io/posts/fosdem-2026-recap/ class="button inline next">[<span class=button__text>FOSDEM 2026: Brussels, Beer, and Good Tech</span>] ></a></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>¬© 2026</span></div><div class=build-info><span class=build-commit>e733073</span><span class=build-date>2026-02-12 12:33 UTC</span></div></div></footer></div></body></html>